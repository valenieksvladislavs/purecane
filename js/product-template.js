(function(){var __webpack_modules__={4558:function(__unused_webpack_module,__webpack_exports__2,__webpack_require__2){"use strict";__webpack_require__2.r(__webpack_exports__2),__webpack_require__2.d(__webpack_exports__2,{AmyrisTheme:function(){return AmyrisTheme},AmyrisThemeSettings:function(){return AmyrisThemeSettings},AmyrisThemeStrings:function(){return AmyrisThemeStrings},_ThemeEvent:function(){return _ThemeEvent}});const AmyrisTheme=window.spratlyTheme||{},AmyrisThemeSettings=window.spratlyThemeSettings||{},AmyrisThemeStrings=window.spratlyThemeStrings||{},_ThemeEvent=window._ThemeEvent||{}},6295:function(__unused_webpack_module,__webpack_exports__2,__webpack_require__2){"use strict";__webpack_require__2.r(__webpack_exports__2);var mdn_polyfills_Node_prototype_append_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__2(2422),mdn_polyfills_Node_prototype_append_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__2.n(mdn_polyfills_Node_prototype_append_js__WEBPACK_IMPORTED_MODULE_0__);class JSX{constructor(){return this.component=this.component.bind(this),this.component}component(tagName,attrs,...children){if(typeof tagName=="function")return tagName({...attrs,children});children&&(children=children.filter(val=>val!==null)),attrs&&(attrs.class&&(attrs.className=attrs.class),delete attrs.children);function createWithAttrs(tagName2,attrs2){attrs2=attrs2||{};let elem2=document.createElement(tagName2);try{elem2=Object.assign(elem2,attrs2)}catch{const attrKeys=Object.keys(attrs2);for(let i=0;i<attrKeys.length;i++)attrs2[i]!=="dataSet"&&elem2.setAttribute(attrKeys[i],attrs2[attrKeys[i]])}return elem2}let elem=tagName!=="fragment"?createWithAttrs(tagName,attrs):document.createDocumentFragment();if(["svg","path","rect","text","circle","g"].indexOf(tagName)!==-1){elem=document.createElementNS("http://www.w3.org/2000/svg",tagName);for(const key in attrs){const attrName=key==="className"?"class":key;elem.setAttribute(attrName,attrs[key])}}for(const child of children)Array.isArray(child)?elem.append(...child):elem.append(child);if(attrs!=null&&attrs.dataSet)for(const key in attrs.dataSet)Object.prototype.hasOwnProperty.call(attrs.dataSet,key)&&(elem.dataset[key]=attrs.dataSet[key]);return attrs&&!window.__aleartedJSXData&&Object.keys(attrs).find(key=>key.match(/^data-/))&&(console.trace(`Your "${tagName}" component uses a data-* attribute! Use dataSet instead!!`),alert("Do not use data-* in your JSX component! Use dataSet instead!! - Check the console.trace for more info"),window.__aleartedJSXData=!0),attrs!=null&&attrs.ref&&(typeof attrs.ref=="function"?attrs.ref(elem):attrs.ref=elem),attrs!=null&&attrs.on&&Object.entries(attrs.on).forEach(([event,handler])=>{elem.addEventListener(event,handler)}),attrs!=null&&attrs.style&&Object.entries(attrs.style).forEach(([property,value])=>{elem.style.setProperty(property,value)}),elem}}__webpack_exports__2.default=new JSX},2422:function(){(function(){function t(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach(function(e2){var t2=e2 instanceof Node;n.appendChild(t2?e2:document.createTextNode(String(e2)))}),this.appendChild(n)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:t})})})()},643:function(module){var COMPLETE="complete",CANCELED="canceled";function raf(task){if("requestAnimationFrame"in window)return window.requestAnimationFrame(task);setTimeout(task,16)}function setElementScroll(element,x,y){Math.max(0,x),Math.max(0,y),element.self===element?element.scrollTo(x,y):(element.scrollLeft=x,element.scrollTop=y)}function getTargetScrollLocation(scrollSettings,parent){var align=scrollSettings.align,target=scrollSettings.target,targetPosition=target.getBoundingClientRect(),parentPosition,x,y,differenceX,differenceY,targetWidth,targetHeight,leftAlign=align&&align.left!=null?align.left:.5,topAlign=align&&align.top!=null?align.top:.5,leftOffset=align&&align.leftOffset!=null?align.leftOffset:0,topOffset=align&&align.topOffset!=null?align.topOffset:0,leftScalar=leftAlign,topScalar=topAlign;if(scrollSettings.isWindow(parent))targetWidth=Math.min(targetPosition.width,parent.innerWidth),targetHeight=Math.min(targetPosition.height,parent.innerHeight),x=targetPosition.left+parent.pageXOffset-parent.innerWidth*leftScalar+targetWidth*leftScalar,y=targetPosition.top+parent.pageYOffset-parent.innerHeight*topScalar+targetHeight*topScalar,x-=leftOffset,y-=topOffset,x=scrollSettings.align.lockX?parent.pageXOffset:x,y=scrollSettings.align.lockY?parent.pageYOffset:y,differenceX=x-parent.pageXOffset,differenceY=y-parent.pageYOffset;else{targetWidth=targetPosition.width,targetHeight=targetPosition.height,parentPosition=parent.getBoundingClientRect();var offsetLeft=targetPosition.left-(parentPosition.left-parent.scrollLeft),offsetTop=targetPosition.top-(parentPosition.top-parent.scrollTop);x=offsetLeft+targetWidth*leftScalar-parent.clientWidth*leftScalar,y=offsetTop+targetHeight*topScalar-parent.clientHeight*topScalar,x-=leftOffset,y-=topOffset,x=Math.max(Math.min(x,parent.scrollWidth-parent.clientWidth),0),y=Math.max(Math.min(y,parent.scrollHeight-parent.clientHeight),0),x=scrollSettings.align.lockX?parent.scrollLeft:x,y=scrollSettings.align.lockY?parent.scrollTop:y,differenceX=x-parent.scrollLeft,differenceY=y-parent.scrollTop}return{x,y,differenceX,differenceY}}function animate(parent){var scrollSettings=parent._scrollSettings;if(scrollSettings){var maxSynchronousAlignments=scrollSettings.maxSynchronousAlignments,location=getTargetScrollLocation(scrollSettings,parent),time=Date.now()-scrollSettings.startTime,timeValue=Math.min(1/scrollSettings.time*time,1);if(scrollSettings.endIterations>=maxSynchronousAlignments)return setElementScroll(parent,location.x,location.y),parent._scrollSettings=null,scrollSettings.end(COMPLETE);var easeValue=1-scrollSettings.ease(timeValue);if(setElementScroll(parent,location.x-location.differenceX*easeValue,location.y-location.differenceY*easeValue),time>=scrollSettings.time){scrollSettings.endIterations++,scrollSettings.scrollAncestor&&animate(scrollSettings.scrollAncestor),animate(parent);return}raf(animate.bind(null,parent))}}function defaultIsWindow(target){return target.self===target}function transitionScrollTo(target,parent,settings,scrollAncestor,callback){var idle=!parent._scrollSettings,lastSettings=parent._scrollSettings,now=Date.now(),cancelHandler,passiveOptions={passive:!0};lastSettings&&lastSettings.end(CANCELED);function end(endType){parent._scrollSettings=null,parent.parentElement&&parent.parentElement._scrollSettings&&parent.parentElement._scrollSettings.end(endType),settings.debug&&console.log("Scrolling ended with type",endType,"for",parent),callback(endType),cancelHandler&&(parent.removeEventListener("touchstart",cancelHandler,passiveOptions),parent.removeEventListener("wheel",cancelHandler,passiveOptions))}var maxSynchronousAlignments=settings.maxSynchronousAlignments;return maxSynchronousAlignments==null&&(maxSynchronousAlignments=3),parent._scrollSettings={startTime:now,endIterations:0,target,time:settings.time,ease:settings.ease,align:settings.align,isWindow:settings.isWindow||defaultIsWindow,maxSynchronousAlignments,end,scrollAncestor},(!("cancellable"in settings)||settings.cancellable)&&(cancelHandler=end.bind(null,CANCELED),parent.addEventListener("touchstart",cancelHandler,passiveOptions),parent.addEventListener("wheel",cancelHandler,passiveOptions)),idle&&animate(parent),cancelHandler}function defaultIsScrollable(element){return"pageXOffset"in element||(element.scrollHeight!==element.clientHeight||element.scrollWidth!==element.clientWidth)&&getComputedStyle(element).overflow!=="hidden"}function defaultValidTarget(){return!0}function findParentElement(el){if(el.assignedSlot)return findParentElement(el.assignedSlot);if(el.parentElement)return el.parentElement.tagName==="BODY"?el.parentElement.ownerDocument.defaultView||el.parentElement.ownerDocument.ownerWindow:el.parentElement;if(el.getRootNode){var parent=el.getRootNode();if(parent.nodeType===11)return parent.host}}module.exports=function(target,settings,callback){if(!target)return;typeof settings=="function"&&(callback=settings,settings=null),settings||(settings={}),settings.time=isNaN(settings.time)?1e3:settings.time,settings.ease=settings.ease||function(v){return 1-Math.pow(1-v,v/2)},settings.align=settings.align||{};var parent=findParentElement(target),parents=1;function done(endType){parents--,parents||callback&&callback(endType)}var validTarget=settings.validTarget||defaultValidTarget,isScrollable=settings.isScrollable;settings.debug&&(console.log("About to scroll to",target),parent||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var scrollingElements=[];parent;)if(settings.debug&&console.log("Scrolling parent node",parent),validTarget(parent,parents)&&(isScrollable?isScrollable(parent,defaultIsScrollable):defaultIsScrollable(parent))&&(parents++,scrollingElements.push(parent)),parent=findParentElement(parent),!parent){done(COMPLETE);break}return scrollingElements.reduce((cancel,parent2,index)=>transitionScrollTo(target,parent2,settings,scrollingElements[index+1],done),null)}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==void 0)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}(function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter}})(),function(){__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})}}(),function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}(),function(){__webpack_require__.r=function(exports){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})}}();var __webpack_exports__={};(function(){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var scrollIntoView=__webpack_require__(643),scrollIntoView_default=__webpack_require__.n(scrollIntoView);function load_assets_loadJS(src,target=document.body,async=!0,defer=!1){return new Promise((resolve,reject)=>{const doc=target.ownerDocument,currScript=doc.querySelector(`script[src="${src}"]`);if(currScript){if(currScript.dataset.loaded)return resolve(!0);currScript.addEventListener("load",()=>{currScript.dataset.loaded=!0,resolve(!0)});return}const script=doc.createElement("script");script.src=src,script.async=async,script.defer=defer,script.addEventListener("load",()=>{script.dataset.loaded=!0,resolve(!0)}),script.onerror=reject,target.appendChild(script)})}function load_assets_loadCSS(href,target=document.head){return new Promise((resolve,reject)=>{const doc=target.ownerDocument,currLink=doc.querySelector(`link[href="${href}"]`);if(currLink){if(currLink.dataset.loaded)return resolve(!0);currLink.addEventListener("load",()=>{currLink.dataset.loaded=!0,resolve(!0)});return}const link=doc.createElement("link");link.rel="stylesheet",link.href=href,link.addEventListener("load",()=>{link.dataset.loaded=!0,resolve(!0)}),link.onerror=reject,target.appendChild(link)})}const{themeScriptURLs,themeStyleURLs}=window;(!themeScriptURLs||!themeStyleURLs)&&console.warn("Missing Assest URLs source");const themeAssets={js:{urls:themeScriptURLs,load:load_assets_loadJS},css:{urls:themeStyleURLs,load:load_assets_loadCSS}};function log(asset){console.groupCollapsed("%c Asset loaded: ","#f7a046",asset),console.trace(),console.groupEnd()}function load_assets_loadAssets(param){return new Promise((resolve,reject)=>{const files=typeof param=="string"?[param]:param;Promise.all(files.map(async file=>{try{const[,name,type]=file.match(/(.*)\.(js|css)$/)||[,file,"js"],{urls:{[name]:{url}},load}=themeAssets[type];await load(url),log(`${name}.${type}`)}catch(err){console.warn(`Failed to load asset: ${file}.`,err)}})).then(resolve).catch(reject)})}var createElement=__webpack_require__(6295).default;window.__getSectionInstanceByType=type=>window.Shopify.theme.sections.instances.find(inst=>inst.type===type);function productFormCheck(form){const requiredFields=form.querySelectorAll('[data-theme-fields] [name][required]:not([hidden]):not([type="hidden"])'),missingFields=[];return requiredFields.forEach(field=>{if(field.type==="radio"){const raidoButtons=form.querySelectorAll(`input[name="${field.name}"]`);Array.from(raidoButtons).some(btn=>btn.checked)||missingFields.push(field)}else field.value||missingFields.push(field)}),missingFields}function queryDomNodes(selectors={},context=document){return Object.entries(selectors).reduce((acc,[name,selector])=>{var _context$queryMethod;const findOne=typeof selector=="string",queryMethod=findOne?"querySelector":"querySelectorAll",sl=findOne?selector:selector[0];return acc[name]=context==null||(_context$queryMethod=context[queryMethod])===null||_context$queryMethod===void 0?void 0:_context$queryMethod.call(context,sl),!findOne&&acc[name]&&(acc[name]=[...acc[name]]),acc},{})}const utilities_camelCaseToSnakeCase=str=>str.replace(/[A-Z]/g,$1=>`_${$1.toLowerCase()}`);function animateReplace(oldNode,newNode){!oldNode||!newNode||(oldNode.classList.add("ar__old-node"),newNode.classList.add("ar__new-node"),oldNode.style.opacity=0,oldNode.replaceWith(newNode),setTimeout(()=>newNode.style.opacity=1))}function createSearchLink(query){const searchParams=new URLSearchParams({type:"product","options[unavailable_products]":"last","options[prefix]":"last",q:query});return`${PredictiveSearch.SEARCH_PATH}?${searchParams.toString()}`}function isInViewport(elem){const rect=elem.getBoundingClientRect();return rect.top>0&&rect.top<(window.innerHeight||document.documentElement.clientHeight)}function loadStyles(){const{themeStyleURLs:themeStyleURLs2={}}=window;Object.values(themeStyleURLs2).forEach(style=>{const{url,required,afterWindowLoaded}=style;if(url&&required){var _window;!afterWindowLoaded||(_window=window)!==null&&_window!==void 0&&_window.__sfWindowLoaded?loadCSS(url):window.addEventListener("load",()=>loadCSS(url))}})}function loadScripts(){const{themeScriptURLs:themeScriptURLs2={}}=window;Object.values(themeScriptURLs2).forEach(script=>{const{url,required,afterWindowLoaded}=script;if(url&&required){var _window2;!afterWindowLoaded||(_window2=window)!==null&&_window2!==void 0&&_window2.__sfWindowLoaded?loadJS(url):window.addEventListener("load",()=>loadJS(url))}})}function addCustomerFormHandlers(){if(addEventDelegate({selector:".sf-customer__forms",handler:(e,form)=>{if(e.target.classList.contains("sf-customer__reset-password-btn")){form.classList.add("show-recover-password-form");return}if(e.target.classList.contains("sf-customer__cancel-reset")){form.classList.remove("show-recover-password-form");return}}}),document.querySelector(".sf-customer__recover-form-posted")){var _document$querySelect,_document$querySelect2;(_document$querySelect=document.querySelector(".sf-customer__forms"))===null||_document$querySelect===void 0||(_document$querySelect2=_document$querySelect.classList)===null||_document$querySelect2===void 0||_document$querySelect2.add("show-recover-password-form")}}function getVideoURL(id,host){return host==="youtube"?`https://www.youtube.com/watch?v=${id}&gl=true`:host==="vimeo"?`https://vimeo.com/${id}`:""}function showCookieConsent(){const{show_cookie_consent}=window.adminThemeSettings,cookieAccepted=getCookie("cookieconsent_status");show_cookie_consent&&!cookieAccepted&&loadAssets(["cookieConsent.css","cookieConsent.js"])}function initTermsCheckbox(){addEventDelegate({selector:'.agree-terms [name="agree_terms"]',event:"change",handler:(e,target)=>{const button=target.closest(".agree-terms").nextElementSibling;button&&button.hasAttributes("data-terms-action")&&(target.checked?button.removeAttribute("disabled"):button.setAttribute("disabled",!0))}})}const scrollToTopTarget=document.querySelector("#scroll-to-top-target");function scrollToTop(callback){scrollIntoView_default()(scrollToTopTarget,callback)}function initScrollTop(){const scrollTopButton=document.querySelector("#scroll-to-top-button");scrollTopButton&&(scrollTopButton.addEventListener("click",scrollToTop),window.addEventListener("scroll",function(){const method=window.scrollY>100?"add":"remove";scrollTopButton.classList[method]("opacity-100")}))}function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+exdays*24*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"}function getCookie(cname){for(var name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];c.charAt(0)===" ";)c=c.substring(1);if(c.indexOf(name)===0)return c.substring(name.length,c.length)}return""}function addRecentViewedProduct(handle){let max=20;const saveKey="sf-recent-viewed-products",products=getCookie(saveKey)?JSON.parse(getCookie(saveKey)):[];handle&&!products.includes(handle)&&products.push(handle),setCookie(saveKey,JSON.stringify(products.filter((x,i)=>i<=max-1)))}const generateDomFromString=value=>{const d=createElement("div",null);return d.innerHTML=value,d};function emailIsValid(email){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)}function updateParam(key,value){var{location}=window,baseUrl=[location.protocol,"//",location.host,location.pathname].join("");const queryString=window.location.search,urlParams=new URLSearchParams(queryString);return urlParams.has(key)?(value!==""&&value!=="undefined"&&urlParams.set(key,value),(value===""||value==="undefined")&&urlParams.delete(key)):value&&urlParams.append(key,value),window.history.replaceState({},"",baseUrl+"?"+urlParams.toString()),!1}function getParams(){let params={};const queryString=window.location.search,urlParams=new URLSearchParams(queryString);for(const entry of urlParams.entries())params[entry[0]]=entry[1];return params}function runHelpers(){try{loadScripts(),loadStyles(),showCookieConsent(),initTermsCheckbox(),initLocalization(),addCustomerFormHandlers(),initScrollTop()}catch(err){console.error("Failed to run helpers.",err)}}class BoostSales{constructor(){_defineProperty(this,"selectors",{liveViews:[".prod__live-views"],stockCountdowns:[".prod__stock-countdown"]}),_defineProperty(this,"init",()=>{try{this.domNodes=queryDomNodes(this.selectors),this.initLiveViews(),this.initStockCountDown()}catch{console.error("Failed to init Boost Sales Helper")}}),_defineProperty(this,"initLiveViews",()=>{var _this$domNodes,_this$domNodes$liveVi;(_this$domNodes=this.domNodes)===null||_this$domNodes===void 0||(_this$domNodes$liveVi=_this$domNodes.liveViews)===null||_this$domNodes$liveVi===void 0||_this$domNodes$liveVi.forEach(liveViews=>{if(liveViews.dataset.initialized!=="true"){const liveViewElem=liveViews.querySelector(".live-views-text"),settings=liveViews.dataset;if(liveViewElem){const lvtHTML=liveViewElem.innerHTML;liveViewElem.innerHTML=lvtHTML.replace(settings.liveViewsCurrent,`<span class="live-view-numb">${settings.liveViewsCurrent}</span>`),this.changeLiveViewsNumber(liveViewElem,settings)}liveViews.dataset.initialized=!0}})}),_defineProperty(this,"changeLiveViewsNumber",(liveViewElem,settings)=>{const numbElem=liveViewElem.querySelector(".live-view-numb"),{liveViewsDuration,liveViewsMax,liveViewsMin}=settings,duration=Number(liveViewsDuration)||5,max=Number(liveViewsMax)||30,min=Number(liveViewsMin)||20;numbElem&&setInterval(()=>{const newViews=Math.floor(Math.random()*(max-min+1))+min;numbElem.textContent=newViews},duration*1e3)}),_defineProperty(this,"initStockCountDown",()=>{var _this$domNodes2,_this$domNodes2$stock;(_this$domNodes2=this.domNodes)===null||_this$domNodes2===void 0||(_this$domNodes2$stock=_this$domNodes2.stockCountdowns)===null||_this$domNodes2$stock===void 0||_this$domNodes2$stock.forEach(stockCountdown=>{if(stockCountdown.dataset.initialized!=="true"){const progress=stockCountdown.querySelector(".psc__progress"),width=progress.dataset.stockCountdownWidth;progress&&(progress.style.width="100%",setTimeout(()=>{progress.style.width=width},2e3)),stockCountdown.dataset.initialized=!0}})}),this.init()}}window.spratlyTheme=window.spratlyTheme||{},window.spratlyTheme.BoostSales=new BoostSales;var fetch_createElement=__webpack_require__(6295).default;const requestDefaultConfigs={mode:"same-origin",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}};function getRequestDefaultConfigs(){return JSON.parse(JSON.stringify(requestDefaultConfigs))}const fetchJSON=(url,config=getRequestDefaultConfigs())=>fetch(url,config).then(function(response){if(!response.ok)throw response;return response.json()}),cache=new Map,fetch_fetchCache=(url,config=getRequestDefaultConfigs())=>new Promise((resolve,reject)=>{let cached=cache.get(url);if(cached)return resolve(cached);fetch(url,config).then(res=>{cached=res.text(),cache.set(url,cached),resolve(cached)}).catch(reject)}),sectionCache=new Map,fetchSection=(sectionId,fetchFromCache=!1,params={})=>new Promise((resolve,reject)=>{const url=new URL(window.location.href);if(url.searchParams.set("section_id",sectionId),Object.entries(params).forEach(([k,v])=>url.searchParams.set(k,v)),fetchFromCache){const cached=sectionCache.get(url);if(cached)return resolve(cached)}fetch(url,getRequestDefaultConfigs()).then(res=>res.text()).then(html=>{const div=fetch_createElement("div",null);div.innerHTML=html,sectionCache.set(url,div),resolve(div)}).catch(reject)}),cache2=new Map,fetch_fetchJsonCache=(url,config=requestDefaultConfigs)=>new Promise((resolve,reject)=>{if(cache2.get(url))return resolve(cache2.get(url));fetch(url,config).then(res=>{if(res.ok){const json=res.json();return resolve(json),cache2.set(url,json),json}else reject(res)}).catch(reject)});var product_fns_createElement=__webpack_require__(6295).default;const themeProducts=window._themeProducts||{},fetchProductByHandle=async handle=>{const product=await fetchJsonCache(`/products/${handle}.js`).catch(console.error);return product?(themeProducts[product.id]=product,product):!1},getProductData=async({productId,productHandle})=>{var _productData,_productData2;let productData=themeProducts[productId];return productData||(productData=await fetchProductByHandle(productHandle).catch(console.error)),productData.has_only_default_variant=((_productData=productData)===null||_productData===void 0?void 0:_productData.has_only_default_variant)||productHasOnlyDefaultVariant((_productData2=productData)===null||_productData2===void 0?void 0:_productData2.options),Object.assign({},productData)},getProductJSON=async handle=>{const html=await fetchCache(`/products/${handle}?section_id=product-json`);if(html&&!/^<!doctype html>/.test(html)){const node=product_fns_createElement("div",null);node.innerHTML=html;const productJSONNode=node.querySelector("script.product-json");if(productJSONNode){const data=JSON.parse(productJSONNode.innerText);if(data){const{dataset}=productJSONNode;Object.entries(dataset).forEach(([k,v])=>data[camelCaseToSnakeCase(k)]=["true","false"].indexOf(v)+1?v==="true":v);const selectedVariantNode=node.querySelector("script.selected-variant-json");selectedVariantNode&&(data.selected_variant=JSON.parse(selectedVariantNode.innerText));const selectedOrFirstAvailableVariantNode=node.querySelector("script.selected-or-first-available-variant-json");return selectedOrFirstAvailableVariantNode&&(data.selected_or_first_available_variant=JSON.parse(selectedOrFirstAvailableVariantNode.innerText)),data}}}return null},getProductsJSON=async handles=>{const productData={},promises=handles.map(async hdl=>{productData[hdl]=await getProductJSON(hdl)});return await Promise.all(promises),handles.map(hdl=>productData[hdl])},productHasOnlyDefaultVariant=prodOptions=>{if(Array.isArray(prodOptions)&&prodOptions.length===1){var _firstOption$values;const firstOption=prodOptions[0];if(firstOption?.name==="Title"&&(firstOption==null||(_firstOption$values=firstOption.values)===null||_firstOption$values===void 0?void 0:_firstOption$values.join())==="Default Title")return!0}return!1},getProductInstances=query=>{let fieldSearch="id";return typeof query=="string"&&(fieldSearch="handle"),window.spratlyTheme.Products.productInstances.filter(pro=>{var _pro$productData;return((_pro$productData=pro.productData)===null||_pro$productData===void 0?void 0:_pro$productData[fieldSearch])===query})};window._getProductInstances=getProductInstances;const getThemeProductSettings=()=>{if(window.themeProductSettings)return window.themeProductSettings;const{spratlyThemeSettings,adminThemeSettings:{product_colors,use_ajax_atc},money_format}=window;let colorSwatch=[],imageSwatch=[];try{colorSwatch=product_colors.split(",").filter(Boolean).map(item=>{const[key,value]=item.split(":");return{key:key.trim().toLowerCase(),value:value?.trim()}}),Object.keys(spratlyThemeSettings).forEach(key=>{key.includes("filter_color")&&!key.includes(".png")&&spratlyThemeSettings[`${key}.png`]&&imageSwatch.push({key:spratlyThemeSettings[key].toLowerCase(),value:spratlyThemeSettings[`${key}.png`]})})}catch(e){console.error("Failed to convert color/image swatch structure!",e)}const productSettings={colorSwatch,imageSwatch,use_ajax_atc,money_format};return window.themeProductSettings=productSettings,productSettings},isValidColor=color=>{const otpNode=new Option;return otpNode.style.color=color.replace(/\s/g,"").toLowerCase(),otpNode.style.color===color},getOptionValueFromOptionNode=optNode=>optNode.type==="checkbox"?optNode.value:optNode.tagName==="OPTION"?optNode.closest("select").value:optNode.innerText.trim();class StickyATC{constructor(){_defineProperty(this,"selectors",{variantIdNode:'[name="id"]',prodTitle:".psa__title",mainImage:".spc__main-img",atc:".add-to-cart",buyNowBtn:".prod__dynamic_checkout",variantSelects:[".sf-product-variant-option-dropdown"]}),_defineProperty(this,"observeTarget",void 0),_defineProperty(this,"variantIds",[]),_defineProperty(this,"mainATCButton",void 0),_defineProperty(this,"mainProductInstance",void 0),_defineProperty(this,"stickyATCProductInstance",void 0),_defineProperty(this,"hasCustomFields",!!document.querySelector(".sf-prod-template__desktop .product__custom-field")),_defineProperty(this,"stickyATCBar",void 0),_defineProperty(this,"init",()=>{var _stickyATCBar$classLi,_variantSelects$,_stickyATCBar$classLi2;this.mainATCButton=this.mainProductInstance.domNodes.addToCart;const stickyATCBar=document.querySelector(".prod__sticky-atc");if(!this.mainATCButton||!stickyATCBar||stickyATCBar!=null&&(_stickyATCBar$classLi=stickyATCBar.classList)!==null&&_stickyATCBar$classLi!==void 0&&_stickyATCBar$classLi.contains("initialized"))return;this.stickyATCBar=stickyATCBar,this.domNodes=queryDomNodes(this.selectors,stickyATCBar);const{prodTitle,mainImage,variantSelects,atc,buyNowBtn}=this.domNodes;variantSelects!=null&&(_variantSelects$=variantSelects[0])!==null&&_variantSelects$!==void 0&&_variantSelects$.options&&(this.variantIds=[...variantSelects[0].options].map(opt=>Number(opt.value)),this.variantIds.length&&this.syncVariantWithMainProduct());const rootMargin=`-${window.spratlyThemeSettings.headerHeight||66}px 0px 0px 0px`;this.observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{const method=entry.intersectionRatio!=1?"remove":"add";stickyATCBar?.classList[method]("translate-y-full"),document.documentElement.classList[entry.intersectionRatio!=1?"add":"remove"]("stick-atc-show")})},{threshold:1,rootMargin}),prodTitle?.addEventListener("click",scrollToTop),mainImage?.addEventListener("click",scrollToTop),this.hasCustomFields&&(atc.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),scrollToTop(()=>this.mainATCButton.click())}),buyNowBtn&&buyNowBtn.addEventListener("click",e=>{productFormCheck(this.mainProductInstance.productForm).length>0&&(e.preventDefault(),e.stopPropagation(),scrollToTop(()=>this.mainProductInstance.domNodes.dynamicCheckout.click()))},!0)),this.setObserveTarget(),stickyATCBar==null||(_stickyATCBar$classLi2=stickyATCBar.classList)===null||_stickyATCBar$classLi2===void 0||_stickyATCBar$classLi2.add("initialized")}),_defineProperty(this,"setObserveTarget",()=>{this.observer.observe(this.mainATCButton),this.observeTarget=this.mainATCButton,document.body.style.paddingBottom="76px"}),_defineProperty(this,"syncVariantWithMainProduct",()=>{const{id}=this.mainProductInstance.productData;if(id){const{variantSelects,variantIdNode}=this.domNodes;window._ThemeEvent.subscribe(`${id}__VARIANT_CHANGE`,async(variant,prodInst)=>{if(prodInst===this.mainProductInstance){this.stickyATCProductInstance.updateBySelectedVariant(variant);const id2=variant?.id;id2&&(variantSelects.forEach(select=>select.selectedIndex=this.variantIds.indexOf(id2)),variantIdNode&&(variantIdNode.setAttribute("value",id2),variantIdNode.value=id2))}})}});const productInstances=getProductInstances(window.spratlyThemeSettings.productId);this.mainProductInstance=productInstances.find(inst=>{var _inst$productHelper;return((_inst$productHelper=inst.productHelper)===null||_inst$productHelper===void 0?void 0:_inst$productHelper.view)==="product-template"}),this.stickyATCProductInstance=productInstances.find(inst=>{var _inst$productHelper2;return((_inst$productHelper2=inst.productHelper)===null||_inst$productHelper2===void 0?void 0:_inst$productHelper2.view)==="sticky-atc"}),this.init()}}window.spratlyTheme=window.spratlyTheme||{},window.spratlyTheme.StickyATC=new StickyATC;var Modal_createElement=__webpack_require__(6295).default;function Modal_Modal({wrapper_class=""}){return Modal_createElement("div",{style:{"--tw-bg-opacity":"0.3"},className:`sf-modal sf-modal__wrapper fixed inset-0 px-5 bg-black flex items-center justify-center transition-opacity opacity-0 duration-200 ease-out ${wrapper_class}`},Modal_createElement("button",{className:"lg:hidden sf-modal__close text-black absolute p-2 bg-white hover:bg-gray-300 rounded-full z-10"},Modal_createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Modal_createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}))),Modal_createElement("div",{className:"sf-modal__content bg-white relative rounded max-h-[90vh]"},Modal_createElement("button",{className:"hidden lg:block sf-modal__close text-black absolute p-2 bg-white hover:bg-gray-300 rounded-full z-10"},Modal_createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Modal_createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}))),Modal_createElement("div",{className:"sf-modal__content-inner"})))}const events_addEventDelegate=({context=document.documentElement,event="click",selector,handler,capture=!1})=>{const listener=function(e){for(let target=e.target;target&&target!==this;target=target.parentNode)if(target.matches(selector)){handler.call(target,e,target);break}};return context.addEventListener(event,listener,capture),()=>{context.removeEventListener(event,listener,capture)}};class Event{constructor(){this.events={}}get evts(){return Object.keys(this.events)}subscribe(event,handler){return this.events[event]=this.events[event]||[],this.events[event].push(handler),()=>this.unSubscribe(event,handler)}unSubscribe(event,handler){const handlers=this.events[event];if(handlers&&Array.isArray(handlers)){for(let i=0;i<handlers.length;i++)if(handlers[i]===handler){handlers.splice(i,1);break}}}emit(event,...args){console.groupCollapsed(`Event emitted: ${event}`),console.trace(),console.groupEnd(),(this.events[event]||[]).forEach(handler=>{handler(...args)})}}var modal_createElement=__webpack_require__(6295).default;class Modal{constructor(wrapper_class){var _this$modal,_this$modal2;_defineProperty(this,"init",()=>{events_addEventDelegate({selector:".sf-modal__wrapper",handler:e=>{var _e$target;(e?.target===this.modal||e!=null&&(_e$target=e.target)!==null&&_e$target!==void 0&&_e$target.closest(".sf-modal__close"))&&this.close(e)}})}),_defineProperty(this,"setSizes",(sizes="")=>{this.resetSize(),this.sizes=sizes,sizes.split(" ").forEach(size=>{var _this$modalContent,_this$modalContent$cl;(_this$modalContent=this.modalContent)===null||_this$modalContent===void 0||(_this$modalContent$cl=_this$modalContent.classList)===null||_this$modalContent$cl===void 0||_this$modalContent$cl.add(size)})}),_defineProperty(this,"setWidth",width=>{this.modalContent.style.width=width}),_defineProperty(this,"resetSize",()=>{this.sizes&&(this.sizes.split(" ").forEach(size=>{var _this$modalContent2,_this$modalContent2$c;(_this$modalContent2=this.modalContent)===null||_this$modalContent2===void 0||(_this$modalContent2$c=_this$modalContent2.classList)===null||_this$modalContent2$c===void 0||_this$modalContent2$c.remove(size)}),this.sizes="")}),_defineProperty(this,"appendChild",child=>{var _this$modalContentInn;this===null||this===void 0||(_this$modalContentInn=this.modalContentInner)===null||_this$modalContentInn===void 0||_this$modalContentInn.appendChild(child),this.children=child}),_defineProperty(this,"removeChild",()=>{var _this$children;this===null||this===void 0||(_this$children=this.children)===null||_this$children===void 0||_this$children.remove()}),_defineProperty(this,"open",()=>{document.documentElement.classList.add("prevent-scroll"),document.body.appendChild(this.modal),setTimeout(()=>this.modal.classList.add("opacity-100")),window.addEventListener("keydown",this.handleKeyDown)}),_defineProperty(this,"close",e=>{e?.preventDefault(),this.modal.classList.remove("opacity-100"),window.removeEventListener("keydown",this.handleKeyDown),setTimeout(()=>{this.modal.remove(),this.removeChild(),this.resetSize(),this.modalContent.style.removeProperty("width"),document.documentElement.classList.remove("prevent-scroll")},this.transitionDuration)}),_defineProperty(this,"handleKeyDown",e=>{e.keyCode===27&&this.close()}),this.modal=modal_createElement(Modal_Modal,{wrapper_class:wrapper_class||void 0}),this.modalContent=(_this$modal=this.modal)===null||_this$modal===void 0?void 0:_this$modal.querySelector(".sf-modal__content"),this.modalContentInner=(_this$modal2=this.modal)===null||_this$modal2===void 0?void 0:_this$modal2.querySelector(".sf-modal__content-inner"),this.transitionDuration=200,this.init()}}var modal=Modal,Notification_createElement=__webpack_require__(6295).default;function components_Notification({type,message,onclick}){let icon;return type==="warning"?icon=Notification_createElement("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Notification_createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})):type==="success"&&(icon=Notification_createElement("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Notification_createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),Notification_createElement("div",{className:`notification ${type}`,onclick},icon,Notification_createElement("div",{className:"ml-3"},message))}var notification_createElement=__webpack_require__(6295).default,AmyrisTheme=__webpack_require__(4558).AmyrisTheme;class Notification{constructor(){_defineProperty(this,"noti",null),_defineProperty(this,"removeTimeoutId",null),_defineProperty(this,"hideTimeoutId",null),_defineProperty(this,"transitionDuration",300),_defineProperty(this,"show",({target,type,message,method="after",last=3e3,delay=0,debug=!1})=>{this.clearTimeout(),this.removeNoti(),setTimeout(()=>{this.noti=notification_createElement(components_Notification,{type,message,onclick:this.handleClick}),target?.[method](this.noti),requestAnimationFrame(()=>this.noti.classList.add("show")),debug||(this.hideTimeoutId=setTimeout(()=>{this.noti.classList.add("hide"),this.removeTimeoutId=setTimeout(this.removeNoti,this.transitionDuration*2)},last))},delay)}),_defineProperty(this,"handleClick",()=>{clearTimeout(this.removeTimeoutId),this.noti.classList.add("hide"),setTimeout(this.removeNoti,this.transitionDuration*2)}),_defineProperty(this,"clearTimeout",()=>{clearTimeout(this.removeTimeoutId),clearTimeout(this.hideTimeoutId)}),_defineProperty(this,"removeNoti",()=>{var _this$noti;this===null||this===void 0||(_this$noti=this.noti)===null||_this$noti===void 0||_this$noti.remove()})}}AmyrisTheme.Notification=new Notification;class ContactFormAsk{constructor(){_defineProperty(this,"init",()=>{this.showSuccessMessage(),events_addEventDelegate({selector:".form-ask__button",handler:e=>{e.preventDefault(),this.modal.appendChild(this.container),this.modal.setWidth("500px"),this.modal.setSizes("max-w-[90vw]"),this.container.classList.remove("hidden"),this.modal.open()}})}),_defineProperty(this,"showSuccessMessage",()=>{const successMessage=this.container.querySelector(".form-ask__success");if(successMessage){const notiBlock=document.querySelector(".form-ask__success-block"),target=window.innerWidth<768?successMessage:notiBlock;window.innerWidth<768&&document.body.appendChild(successMessage),Notification.show({target,method:"appendChild",type:"success",message:successMessage.dataset.message,delay:2e3}),setTimeout(()=>{const url=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,url)},2500)}}),this.container=document.querySelector(".form-ask__wrapper"),this.container&&(this.init(),this.modal=new modal)}}new ContactFormAsk;var sharing_createElement=__webpack_require__(6295).default;class Sharing{constructor(){_defineProperty(this,"selectors",{shareContent:".sf-sharing",openBtn:"[data-open-share]"}),_defineProperty(this,"init",()=>{var _this$domNodes$openBt;(_this$domNodes$openBt=this.domNodes.openBtn)===null||_this$domNodes$openBt===void 0||_this$domNodes$openBt.classList.remove("hidden"),this.modal=new modal,events_addEventDelegate({selector:this.selectors.openBtn,handler:e=>{if(e.preventDefault(),this.shareContent){const html=sharing_createElement("div",null);html.innerHTML=this.shareContent,this.modal.appendChild(html),this.modal.setSizes("bg-white sf-sharing"),this.modal.open()}}})}),this.domNodes=queryDomNodes(this.selectors);const{shareContent}=this.domNodes;shareContent&&shareContent.innerHTML&&(this.shareContent=shareContent.innerHTML,this.init())}}window.spratlyTheme=window.spratlyTheme||{},window.spratlyTheme.Sharing=new Sharing})()})();
//# sourceMappingURL=/s/files/1/0274/4044/7587/t/719/assets/product-template.js.map?v=118097360385450892921685566284
