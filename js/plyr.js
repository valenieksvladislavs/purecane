(function(){var __webpack_modules__={9792:function(module,__unused_webpack_exports,__webpack_require__2){typeof navigator=="object"&&function(e,t){module.exports=t()}(this,function(){"use strict";function e(e2,t2,i2){return t2 in e2?Object.defineProperty(e2,t2,{value:i2,enumerable:!0,configurable:!0,writable:!0}):e2[t2]=i2,e2}function t(e2,t2){for(var i2=0;i2<t2.length;i2++){var s2=t2[i2];s2.enumerable=s2.enumerable||!1,s2.configurable=!0,"value"in s2&&(s2.writable=!0),Object.defineProperty(e2,s2.key,s2)}}function i(e2,t2,i2){return t2 in e2?Object.defineProperty(e2,t2,{value:i2,enumerable:!0,configurable:!0,writable:!0}):e2[t2]=i2,e2}function s(e2,t2){var i2=Object.keys(e2);if(Object.getOwnPropertySymbols){var s2=Object.getOwnPropertySymbols(e2);t2&&(s2=s2.filter(function(t3){return Object.getOwnPropertyDescriptor(e2,t3).enumerable})),i2.push.apply(i2,s2)}return i2}function n(e2){for(var t2=1;t2<arguments.length;t2++){var n2=arguments[t2]!=null?arguments[t2]:{};t2%2?s(Object(n2),!0).forEach(function(t3){i(e2,t3,n2[t3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e2,Object.getOwnPropertyDescriptors(n2)):s(Object(n2)).forEach(function(t3){Object.defineProperty(e2,t3,Object.getOwnPropertyDescriptor(n2,t3))})}return e2}var a={addCSS:!0,thumbWidth:15,watch:!0};function l(e2,t2){return function(){return Array.from(document.querySelectorAll(t2)).includes(this)}.call(e2,t2)}var o=function(e2){return e2!=null?e2.constructor:null},r=function(e2,t2){return!!(e2&&t2&&e2 instanceof t2)},c=function(e2){return e2==null},h=function(e2){return o(e2)===Object},u=function(e2){return o(e2)===String},d=function(e2){return Array.isArray(e2)},m=function(e2){return r(e2,NodeList)},p=u,g=d,f=m,y=function(e2){return r(e2,Element)},b=function(e2){return r(e2,Event)},v=function(e2){return c(e2)||(u(e2)||d(e2)||m(e2))&&!e2.length||h(e2)&&!Object.keys(e2).length};function w(e2,t2){if(1>t2){var i2=function(e3){var t3="".concat(e3).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t3?Math.max(0,(t3[1]?t3[1].length:0)-(t3[2]?+t3[2]:0)):0}(t2);return parseFloat(e2.toFixed(i2))}return Math.round(e2/t2)*t2}var T=function(){function e2(t2,i2){(function(e3,t3){if(!(e3 instanceof t3))throw new TypeError("Cannot call a class as a function")})(this,e2),y(t2)?this.element=t2:p(t2)&&(this.element=document.querySelector(t2)),y(this.element)&&v(this.element.rangeTouch)&&(this.config=n({},a,{},i2),this.init())}return function(e3,i2,s2){i2&&t(e3.prototype,i2),s2&&t(e3,s2)}(e2,[{key:"init",value:function(){e2.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e2.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e3){var t2=this,i2=e3?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e4){t2.element[i2](e4,function(e5){return t2.set(e5)},!1)})}},{key:"get",value:function(t2){if(!e2.enabled||!b(t2))return null;var i2,s2=t2.target,n2=t2.changedTouches[0],a2=parseFloat(s2.getAttribute("min"))||0,l2=parseFloat(s2.getAttribute("max"))||100,o2=parseFloat(s2.getAttribute("step"))||1,r2=s2.getBoundingClientRect(),c2=100/r2.width*(this.config.thumbWidth/2)/100;return 0>(i2=100/r2.width*(n2.clientX-r2.left))?i2=0:100<i2&&(i2=100),50>i2?i2-=(100-2*i2)*c2:50<i2&&(i2+=2*(i2-50)*c2),a2+w(i2/100*(l2-a2),o2)}},{key:"set",value:function(t2){e2.enabled&&b(t2)&&!t2.target.disabled&&(t2.preventDefault(),t2.target.value=this.get(t2),function(e3,t3){if(e3&&t3){var i2=new Event(t3,{bubbles:!0});e3.dispatchEvent(i2)}}(t2.target,t2.type==="touchend"?"change":"input"))}}],[{key:"setup",value:function(t2){var i2=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},s2=null;if(v(t2)||p(t2)?s2=Array.from(document.querySelectorAll(p(t2)?t2:'input[type="range"]')):y(t2)?s2=[t2]:f(t2)?s2=Array.from(t2):g(t2)&&(s2=t2.filter(y)),v(s2))return null;var o2=n({},a,{},i2);if(p(t2)&&o2.watch){var r2=new MutationObserver(function(i3){Array.from(i3).forEach(function(i4){Array.from(i4.addedNodes).forEach(function(i5){y(i5)&&l(i5,t2)&&new e2(i5,o2)})})});r2.observe(document.body,{childList:!0,subtree:!0})}return s2.map(function(t3){return new e2(t3,i2)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e2}();const k=e2=>e2!=null?e2.constructor:null,C=(e2,t2)=>!!(e2&&t2&&e2 instanceof t2),A=e2=>e2==null,S=e2=>k(e2)===Object,E=e2=>k(e2)===String,P=e2=>k(e2)===Function,x=e2=>Array.isArray(e2),M=e2=>C(e2,NodeList),N=e2=>A(e2)||(E(e2)||x(e2)||M(e2))&&!e2.length||S(e2)&&!Object.keys(e2).length;var I=A,L=S,$=e2=>k(e2)===Number&&!Number.isNaN(e2),_=E,O=e2=>k(e2)===Boolean,q=P,j=x,D=M,H=e2=>e2!==null&&typeof e2=="object"&&e2.nodeType===1&&typeof e2.style=="object"&&typeof e2.ownerDocument=="object",F=e2=>C(e2,Event),R=e2=>C(e2,KeyboardEvent),V=e2=>C(e2,TextTrack)||!A(e2)&&E(e2.kind),B=e2=>C(e2,Promise)&&P(e2.then),U=e2=>{if(C(e2,window.URL))return!0;if(!E(e2))return!1;let t2=e2;e2.startsWith("http://")&&e2.startsWith("https://")||(t2=`http://${e2}`);try{return!N(new URL(t2).hostname)}catch{return!1}},W=N;const z=(()=>{const e2=document.createElement("span"),t2={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i2=Object.keys(t2).find(t3=>e2.style[t3]!==void 0);return!!_(i2)&&t2[i2]})();function K(e2,t2){setTimeout(()=>{try{e2.hidden=!0,e2.offsetHeight,e2.hidden=!1}catch{}},t2)}const Y={isIE:!!window.document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function Q(e2,t2){return t2.split(".").reduce((e3,t3)=>e3&&e3[t3],e2)}function X(e2={},...t2){if(!t2.length)return e2;const i2=t2.shift();return L(i2)?(Object.keys(i2).forEach(t3=>{L(i2[t3])?(Object.keys(e2).includes(t3)||Object.assign(e2,{[t3]:{}}),X(e2[t3],i2[t3])):Object.assign(e2,{[t3]:i2[t3]})}),X(e2,...t2)):e2}function J(e2,t2){const i2=e2.length?e2:[e2];Array.from(i2).reverse().forEach((e3,i3)=>{const s2=i3>0?t2.cloneNode(!0):t2,n2=e3.parentNode,a2=e3.nextSibling;s2.appendChild(e3),a2?n2.insertBefore(s2,a2):n2.appendChild(s2)})}function G(e2,t2){H(e2)&&!W(t2)&&Object.entries(t2).filter(([,e3])=>!I(e3)).forEach(([t3,i2])=>e2.setAttribute(t3,i2))}function Z(e2,t2,i2){const s2=document.createElement(e2);return L(t2)&&G(s2,t2),_(i2)&&(s2.innerText=i2),s2}function ee(e2,t2,i2,s2){H(t2)&&t2.appendChild(Z(e2,i2,s2))}function te(e2){D(e2)||j(e2)?Array.from(e2).forEach(te):H(e2)&&H(e2.parentNode)&&e2.parentNode.removeChild(e2)}function ie(e2){if(!H(e2))return;let{length:t2}=e2.childNodes;for(;t2>0;)e2.removeChild(e2.lastChild),t2-=1}function se(e2,t2){return H(t2)&&H(t2.parentNode)&&H(e2)?(t2.parentNode.replaceChild(e2,t2),e2):null}function ne(e2,t2){if(!_(e2)||W(e2))return{};const i2={},s2=X({},t2);return e2.split(",").forEach(e3=>{const t3=e3.trim(),n2=t3.replace(".",""),a2=t3.replace(/[[\]]/g,"").split("="),[l2]=a2,o2=a2.length>1?a2[1].replace(/["']/g,""):"";switch(t3.charAt(0)){case".":_(s2.class)?i2.class=`${s2.class} ${n2}`:i2.class=n2;break;case"#":i2.id=t3.replace("#","");break;case"[":i2[l2]=o2}}),X(s2,i2)}function ae(e2,t2){if(!H(e2))return;let i2=t2;O(i2)||(i2=!e2.hidden),e2.hidden=i2}function le(e2,t2,i2){if(D(e2))return Array.from(e2).map(e3=>le(e3,t2,i2));if(H(e2)){let s2="toggle";return i2!==void 0&&(s2=i2?"add":"remove"),e2.classList[s2](t2),e2.classList.contains(t2)}return!1}function oe(e2,t2){return H(e2)&&e2.classList.contains(t2)}function re(e2,t2){const{prototype:i2}=Element;return(i2.matches||i2.webkitMatchesSelector||i2.mozMatchesSelector||i2.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t2)).includes(this)}).call(e2,t2)}function ce(e2){return this.elements.container.querySelectorAll(e2)}function he(e2){return this.elements.container.querySelector(e2)}function ue(e2=null,t2=!1){H(e2)&&(e2.focus({preventScroll:!0}),t2&&le(e2,this.config.classNames.tabFocus))}const de={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},me={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e2,t2,i2){const s2=Y.isIPhone&&i2&&me.playsinline,n2=me[e2]||t2!=="html5";return{api:n2,ui:n2&&me.rangeInput&&(e2!=="video"||!Y.isIPhone||s2)}},pip:!(Y.isIPhone||!q(Z("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Z("video").disablePictureInPicture)),airplay:q(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e2){if(W(e2))return!1;const[t2]=e2.split("/");let i2=e2;if(!this.isHTML5||t2!==this.type)return!1;Object.keys(de).includes(i2)&&(i2+=`; codecs="${de[e2]}"`);try{return!!(i2&&this.media.canPlayType(i2).replace(/no/,""))}catch{return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e2=document.createElement("input");return e2.type="range",e2.type==="range"})(),touch:"ontouchstart"in document.documentElement,transitions:z!==!1,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},pe=(()=>{let e2=!1;try{const t2=Object.defineProperty({},"passive",{get:()=>(e2=!0,null)});window.addEventListener("test",null,t2),window.removeEventListener("test",null,t2)}catch{}return e2})();function ge(e2,t2,i2,s2=!1,n2=!0,a2=!1){if(!e2||!("addEventListener"in e2)||W(t2)||!q(i2))return;const l2=t2.split(" ");let o2=a2;pe&&(o2={passive:n2,capture:a2}),l2.forEach(t3=>{this&&this.eventListeners&&s2&&this.eventListeners.push({element:e2,type:t3,callback:i2,options:o2}),e2[s2?"addEventListener":"removeEventListener"](t3,i2,o2)})}function fe(e2,t2="",i2,s2=!0,n2=!1){ge.call(this,e2,t2,i2,!0,s2,n2)}function ye(e2,t2="",i2,s2=!0,n2=!1){ge.call(this,e2,t2,i2,!1,s2,n2)}function be(e2,t2="",i2,s2=!0,n2=!1){const a2=(...l2)=>{ye(e2,t2,a2,s2,n2),i2.apply(this,l2)};ge.call(this,e2,t2,a2,!0,s2,n2)}function ve(e2,t2="",i2=!1,s2={}){if(!H(e2)||W(t2))return;const n2=new CustomEvent(t2,{bubbles:i2,detail:{...s2,plyr:this}});e2.dispatchEvent(n2)}function we(){this&&this.eventListeners&&(this.eventListeners.forEach(e2=>{const{element:t2,type:i2,callback:s2,options:n2}=e2;t2.removeEventListener(i2,s2,n2)}),this.eventListeners=[])}function Te(){return new Promise(e2=>this.ready?setTimeout(e2,0):fe.call(this,this.elements.container,"ready",e2)).then(()=>{})}function ke(e2){B(e2)&&e2.then(null,()=>{})}function Ce(e2){return j(e2)?e2.filter((t2,i2)=>e2.indexOf(t2)===i2):e2}function Ae(e2,t2){return j(e2)&&e2.length?e2.reduce((e3,i2)=>Math.abs(i2-t2)<Math.abs(e3-t2)?i2:e3):null}function Se(e2){return!(!window||!window.CSS)&&window.CSS.supports(e2)}const Ee=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e2,[t2,i2])=>({...e2,[t2/i2]:[t2,i2]}),{});function Pe(e2){return j(e2)||_(e2)&&e2.includes(":")?(j(e2)?e2:e2.split(":")).map(Number).every($):!1}function xe(e2){if(!j(e2)||!e2.every($))return null;const[t2,i2]=e2,s2=(e3,t3)=>t3===0?e3:s2(t3,e3%t3),n2=s2(t2,i2);return[t2/n2,i2/n2]}function Me(e2){const t2=e3=>Pe(e3)?e3.split(":").map(Number):null;let i2=t2(e2);if(i2===null&&(i2=t2(this.config.ratio)),i2===null&&!W(this.embed)&&j(this.embed.ratio)&&({ratio:i2}=this.embed),i2===null&&this.isHTML5){const{videoWidth:e3,videoHeight:t3}=this.media;i2=[e3,t3]}return xe(i2)}function Ne(e2){if(!this.isVideo)return{};const{wrapper:t2}=this.elements,i2=Me.call(this,e2);if(!j(i2))return{};const[s2,n2]=xe(i2),a2=100/s2*n2;if(Se(`aspect-ratio: ${s2}/${n2}`)?t2.style.aspectRatio=`${s2}/${n2}`:t2.style.paddingBottom=`${a2}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e3=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i3=(e3-a2)/(e3/50);this.fullscreen.active?t2.style.paddingBottom=null:this.media.style.transform=`translateY(-${i3}%)`}else this.isHTML5&&t2.classList.add(this.config.classNames.videoFixedRatio);return{padding:a2,ratio:i2}}function Ie(e2,t2,i2=.05){const s2=e2/t2,n2=Ae(Object.keys(Ee),s2);return Math.abs(n2-s2)<=i2?Ee[n2]:[e2,t2]}const Le={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e2=>{const t2=e2.getAttribute("type");return!!W(t2)||me.mime.call(this,t2)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:Le.getSources.call(this).map(e2=>Number(e2.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e2=this;e2.options.speed=e2.config.speed.options,W(this.config.ratio)||Ne.call(e2),Object.defineProperty(e2.media,"quality",{get(){const t2=Le.getSources.call(e2).find(t3=>t3.getAttribute("src")===e2.source);return t2&&Number(t2.getAttribute("size"))},set(t2){if(e2.quality!==t2){if(e2.config.quality.forced&&q(e2.config.quality.onChange))e2.config.quality.onChange(t2);else{const i2=Le.getSources.call(e2).find(e3=>Number(e3.getAttribute("size"))===t2);if(!i2)return;const{currentTime:s2,paused:n2,preload:a2,readyState:l2,playbackRate:o2}=e2.media;e2.media.src=i2.getAttribute("src"),(a2!=="none"||l2)&&(e2.once("loadedmetadata",()=>{e2.speed=o2,e2.currentTime=s2,n2||ke(e2.play())}),e2.media.load())}ve.call(e2,e2.media,"qualitychange",!1,{quality:t2})}}})},cancelRequests(){this.isHTML5&&(te(Le.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function $e(e2,...t2){return W(e2)?e2:e2.toString().replace(/{(\d+)}/g,(e3,i2)=>t2[i2].toString())}const _e=(e2="",t2="",i2="")=>e2.replace(new RegExp(t2.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i2.toString()),Oe=(e2="")=>e2.toString().replace(/\w\S*/g,e3=>e3.charAt(0).toUpperCase()+e3.substr(1).toLowerCase());function qe(e2=""){let t2=e2.toString();return t2=function(e3=""){let t3=e3.toString();return t3=_e(t3,"-"," "),t3=_e(t3,"_"," "),t3=Oe(t3),_e(t3," ","")}(t2),t2.charAt(0).toLowerCase()+t2.slice(1)}function je(e2){const t2=document.createElement("div");return t2.appendChild(e2),t2.innerHTML}const De={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},He={get(e2="",t2={}){if(W(e2)||W(t2))return"";let i2=Q(t2.i18n,e2);if(W(i2))return Object.keys(De).includes(e2)?De[e2]:"";const s2={"{seektime}":t2.seekTime,"{title}":t2.title};return Object.entries(s2).forEach(([e3,t3])=>{i2=_e(i2,e3,t3)}),i2}};class Fe{constructor(t2){e(this,"get",e2=>{if(!Fe.supported||!this.enabled)return null;const t3=window.localStorage.getItem(this.key);if(W(t3))return null;const i2=JSON.parse(t3);return _(e2)&&e2.length?i2[e2]:i2}),e(this,"set",e2=>{if(!Fe.supported||!this.enabled||!L(e2))return;let t3=this.get();W(t3)&&(t3={}),X(t3,e2),window.localStorage.setItem(this.key,JSON.stringify(t3))}),this.enabled=t2.config.storage.enabled,this.key=t2.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e2="___test";return window.localStorage.setItem(e2,e2),window.localStorage.removeItem(e2),!0}catch{return!1}}}function Re(e2,t2="text"){return new Promise((i2,s2)=>{try{const s3=new XMLHttpRequest;if(!("withCredentials"in s3))return;s3.addEventListener("load",()=>{if(t2==="text")try{i2(JSON.parse(s3.responseText))}catch{i2(s3.responseText)}else i2(s3.response)}),s3.addEventListener("error",()=>{throw new Error(s3.status)}),s3.open("GET",e2,!0),s3.responseType=t2,s3.send()}catch(e3){s2(e3)}})}function Ve(e2,t2){if(!_(e2))return;const i2=_(t2);let s2=!1;const n2=()=>document.getElementById(t2)!==null,a2=(e3,t3)=>{e3.innerHTML=t3,i2&&n2()||document.body.insertAdjacentElement("afterbegin",e3)};if(!i2||!n2()){const n3=Fe.supported,l2=document.createElement("div");if(l2.setAttribute("hidden",""),i2&&l2.setAttribute("id",t2),n3){const e3=window.localStorage.getItem(`cache-${t2}`);if(s2=e3!==null,s2){const t3=JSON.parse(e3);a2(l2,t3.content)}}Re(e2).then(e3=>{W(e3)||(n3&&window.localStorage.setItem(`cache-${t2}`,JSON.stringify({content:e3})),a2(l2,e3))}).catch(()=>{})}}const Be=e2=>Math.trunc(e2/60/60%60,10);function Ue(e2=0,t2=!1,i2=!1){if(!$(e2))return Ue(void 0,t2,i2);const s2=e3=>`0${e3}`.slice(-2);let n2=Be(e2);const a2=(l2=e2,Math.trunc(l2/60%60,10));var l2;const o2=(e3=>Math.trunc(e3%60,10))(e2);return n2=t2||n2>0?`${n2}:`:"",`${i2&&e2>0?"-":""}${n2}${s2(a2)}:${s2(o2)}`}const We={getIconUrl(){const e2=new URL(this.config.iconUrl,window.location).host!==window.location.host||Y.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e2}},findElements(){try{return this.elements.controls=he.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:ce.call(this,this.config.selectors.buttons.play),pause:he.call(this,this.config.selectors.buttons.pause),restart:he.call(this,this.config.selectors.buttons.restart),rewind:he.call(this,this.config.selectors.buttons.rewind),fastForward:he.call(this,this.config.selectors.buttons.fastForward),mute:he.call(this,this.config.selectors.buttons.mute),pip:he.call(this,this.config.selectors.buttons.pip),airplay:he.call(this,this.config.selectors.buttons.airplay),settings:he.call(this,this.config.selectors.buttons.settings),captions:he.call(this,this.config.selectors.buttons.captions),fullscreen:he.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=he.call(this,this.config.selectors.progress),this.elements.inputs={seek:he.call(this,this.config.selectors.inputs.seek),volume:he.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:he.call(this,this.config.selectors.display.buffer),currentTime:he.call(this,this.config.selectors.display.currentTime),duration:he.call(this,this.config.selectors.display.duration)},H(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e2){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e2),this.toggleNativeControls(!0),!1}},createIcon(e2,t2){const i2="http://www.w3.org/2000/svg",s2=We.getIconUrl.call(this),n2=`${s2.cors?"":s2.url}#${this.config.iconPrefix}`,a2=document.createElementNS(i2,"svg");G(a2,X(t2,{"aria-hidden":"true",focusable:"false"}));const l2=document.createElementNS(i2,"use"),o2=`${n2}-${e2}`;return"href"in l2&&l2.setAttributeNS("http://www.w3.org/1999/xlink","href",o2),l2.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o2),a2.appendChild(l2),a2},createLabel(e2,t2={}){const i2=He.get(e2,this.config);return Z("span",{...t2,class:[t2.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i2)},createBadge(e2){if(W(e2))return null;const t2=Z("span",{class:this.config.classNames.menu.value});return t2.appendChild(Z("span",{class:this.config.classNames.menu.badge},e2)),t2},createButton(e2,t2){const i2=X({},t2);let s2=qe(e2);const n2={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e3=>{Object.keys(i2).includes(e3)&&(n2[e3]=i2[e3],delete i2[e3])}),n2.element!=="button"||Object.keys(i2).includes("type")||(i2.type="button"),Object.keys(i2).includes("class")?i2.class.split(" ").some(e3=>e3===this.config.classNames.control)||X(i2,{class:`${i2.class} ${this.config.classNames.control}`}):i2.class=this.config.classNames.control,e2){case"play":n2.toggle=!0,n2.label="play",n2.labelPressed="pause",n2.icon="play",n2.iconPressed="pause";break;case"mute":n2.toggle=!0,n2.label="mute",n2.labelPressed="unmute",n2.icon="volume",n2.iconPressed="muted";break;case"captions":n2.toggle=!0,n2.label="enableCaptions",n2.labelPressed="disableCaptions",n2.icon="captions-off",n2.iconPressed="captions-on";break;case"fullscreen":n2.toggle=!0,n2.label="enterFullscreen",n2.labelPressed="exitFullscreen",n2.icon="enter-fullscreen",n2.iconPressed="exit-fullscreen";break;case"play-large":i2.class+=` ${this.config.classNames.control}--overlaid`,s2="play",n2.label="play",n2.icon="play";break;default:W(n2.label)&&(n2.label=s2),W(n2.icon)&&(n2.icon=e2)}const a2=Z(n2.element);return n2.toggle?(a2.appendChild(We.createIcon.call(this,n2.iconPressed,{class:"icon--pressed"})),a2.appendChild(We.createIcon.call(this,n2.icon,{class:"icon--not-pressed"})),a2.appendChild(We.createLabel.call(this,n2.labelPressed,{class:"label--pressed"})),a2.appendChild(We.createLabel.call(this,n2.label,{class:"label--not-pressed"}))):(a2.appendChild(We.createIcon.call(this,n2.icon)),a2.appendChild(We.createLabel.call(this,n2.label))),X(i2,ne(this.config.selectors.buttons[s2],i2)),G(a2,i2),s2==="play"?(j(this.elements.buttons[s2])||(this.elements.buttons[s2]=[]),this.elements.buttons[s2].push(a2)):this.elements.buttons[s2]=a2,a2},createRange(e2,t2){const i2=Z("input",X(ne(this.config.selectors.inputs[e2]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":He.get(e2,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t2));return this.elements.inputs[e2]=i2,We.updateRangeFill.call(this,i2),T.setup(i2),i2},createProgress(e2,t2){const i2=Z("progress",X(ne(this.config.selectors.display[e2]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t2));if(e2!=="volume"){i2.appendChild(Z("span",null,"0"));const t3={played:"played",buffer:"buffered"}[e2],s2=t3?He.get(t3,this.config):"";i2.innerText=`% ${s2.toLowerCase()}`}return this.elements.display[e2]=i2,i2},createTime(e2,t2){const i2=ne(this.config.selectors.display[e2],t2),s2=Z("div",X(i2,{class:`${i2.class?i2.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":He.get(e2,this.config)}),"00:00");return this.elements.display[e2]=s2,s2},bindMenuItemShortcuts(e2,t2){fe.call(this,e2,"keydown keyup",i2=>{if(![32,38,39,40].includes(i2.which)||(i2.preventDefault(),i2.stopPropagation(),i2.type==="keydown"))return;const s2=re(e2,'[role="menuitemradio"]');if(!s2&&[32,39].includes(i2.which))We.showMenuPanel.call(this,t2,!0);else{let t3;i2.which!==32&&(i2.which===40||s2&&i2.which===39?(t3=e2.nextElementSibling,H(t3)||(t3=e2.parentNode.firstElementChild)):(t3=e2.previousElementSibling,H(t3)||(t3=e2.parentNode.lastElementChild)),ue.call(this,t3,!0))}},!1),fe.call(this,e2,"keyup",e3=>{e3.which===13&&We.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e2,list:t2,type:i2,title:s2,badge:n2=null,checked:a2=!1}){const l2=ne(this.config.selectors.inputs[i2]),o2=Z("button",X(l2,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${l2.class?l2.class:""}`.trim(),"aria-checked":a2,value:e2})),r2=Z("span");r2.innerHTML=s2,H(n2)&&r2.appendChild(n2),o2.appendChild(r2),Object.defineProperty(o2,"checked",{enumerable:!0,get:()=>o2.getAttribute("aria-checked")==="true",set(e3){e3&&Array.from(o2.parentNode.children).filter(e4=>re(e4,'[role="menuitemradio"]')).forEach(e4=>e4.setAttribute("aria-checked","false")),o2.setAttribute("aria-checked",e3?"true":"false")}}),this.listeners.bind(o2,"click keyup",t3=>{if(!R(t3)||t3.which===32){switch(t3.preventDefault(),t3.stopPropagation(),o2.checked=!0,i2){case"language":this.currentTrack=Number(e2);break;case"quality":this.quality=e2;break;case"speed":this.speed=parseFloat(e2)}We.showMenuPanel.call(this,"home",R(t3))}},i2,!1),We.bindMenuItemShortcuts.call(this,o2,i2),t2.appendChild(o2)},formatTime(e2=0,t2=!1){return $(e2)?Ue(e2,Be(this.duration)>0,t2):e2},updateTimeDisplay(e2=null,t2=0,i2=!1){H(e2)&&$(t2)&&(e2.innerText=We.formatTime(t2,i2))},updateVolume(){this.supported.ui&&(H(this.elements.inputs.volume)&&We.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),H(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0))},setRange(e2,t2=0){H(e2)&&(e2.value=t2,We.updateRangeFill.call(this,e2))},updateProgress(e2){if(!this.supported.ui||!F(e2))return;let t2=0;const i2=(e3,t3)=>{const i3=$(t3)?t3:0,s3=H(e3)?e3:this.elements.display.buffer;if(H(s3)){s3.value=i3;const e4=s3.getElementsByTagName("span")[0];H(e4)&&(e4.childNodes[0].nodeValue=i3)}};if(e2)switch(e2.type){case"timeupdate":case"seeking":case"seeked":s2=this.currentTime,n2=this.duration,t2=s2===0||n2===0||Number.isNaN(s2)||Number.isNaN(n2)?0:(s2/n2*100).toFixed(2),e2.type==="timeupdate"&&We.setRange.call(this,this.elements.inputs.seek,t2);break;case"playing":case"progress":i2(this.elements.display.buffer,100*this.buffered)}var s2,n2},updateRangeFill(e2){const t2=F(e2)?e2.target:e2;if(H(t2)&&t2.getAttribute("type")==="range"){if(re(t2,this.config.selectors.inputs.seek)){t2.setAttribute("aria-valuenow",this.currentTime);const e3=We.formatTime(this.currentTime),i2=We.formatTime(this.duration),s2=He.get("seekLabel",this.config);t2.setAttribute("aria-valuetext",s2.replace("{currentTime}",e3).replace("{duration}",i2))}else if(re(t2,this.config.selectors.inputs.volume)){const e3=100*t2.value;t2.setAttribute("aria-valuenow",e3),t2.setAttribute("aria-valuetext",`${e3.toFixed(1)}%`)}else t2.setAttribute("aria-valuenow",t2.value);Y.isWebkit&&t2.style.setProperty("--value",t2.value/t2.max*100+"%")}},updateSeekTooltip(e2){if(!this.config.tooltips.seek||!H(this.elements.inputs.seek)||!H(this.elements.display.seekTooltip)||this.duration===0)return;const t2=`${this.config.classNames.tooltip}--visible`,i2=e3=>le(this.elements.display.seekTooltip,t2,e3);if(this.touch)return void i2(!1);let s2=0;const n2=this.elements.progress.getBoundingClientRect();if(F(e2))s2=100/n2.width*(e2.pageX-n2.left);else{if(!oe(this.elements.display.seekTooltip,t2))return;s2=parseFloat(this.elements.display.seekTooltip.style.left,10)}s2<0?s2=0:s2>100&&(s2=100),We.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*s2),this.elements.display.seekTooltip.style.left=`${s2}%`,F(e2)&&["mouseenter","mouseleave"].includes(e2.type)&&i2(e2.type==="mouseenter")},timeUpdate(e2){const t2=!H(this.elements.display.duration)&&this.config.invertTime;We.updateTimeDisplay.call(this,this.elements.display.currentTime,t2?this.duration-this.currentTime:this.currentTime,t2),e2&&e2.type==="timeupdate"&&this.media.seeking||We.updateProgress.call(this,e2)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ae(this.elements.display.currentTime,!0),void ae(this.elements.progress,!0);H(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e2=H(this.elements.display.duration);!e2&&this.config.displayDuration&&this.paused&&We.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e2&&We.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),We.updateSeekTooltip.call(this)},toggleMenuButton(e2,t2){ae(this.elements.settings.buttons[e2],!t2)},updateSetting(e2,t2,i2){const s2=this.elements.settings.panels[e2];let n2=null,a2=t2;if(e2==="captions")n2=this.currentTrack;else{if(n2=W(i2)?this[e2]:i2,W(n2)&&(n2=this.config[e2].default),!W(this.options[e2])&&!this.options[e2].includes(n2))return void this.debug.warn(`Unsupported value of '${n2}' for ${e2}`);if(!this.config[e2].options.includes(n2))return void this.debug.warn(`Disabled value of '${n2}' for ${e2}`)}if(H(a2)||(a2=s2&&s2.querySelector('[role="menu"]')),!H(a2))return;this.elements.settings.buttons[e2].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=We.getLabel.call(this,e2,n2);const l2=a2&&a2.querySelector(`[value="${n2}"]`);H(l2)&&(l2.checked=!0)},getLabel(e2,t2){switch(e2){case"speed":return t2===1?He.get("normal",this.config):`${t2}&times;`;case"quality":if($(t2)){const e3=He.get(`qualityLabel.${t2}`,this.config);return e3.length?e3:`${t2}p`}return Oe(t2);case"captions":return Ye.getLabel.call(this);default:return null}},setQualityMenu(e2){if(!H(this.elements.settings.panels.quality))return;const t2="quality",i2=this.elements.settings.panels.quality.querySelector('[role="menu"]');j(e2)&&(this.options.quality=Ce(e2).filter(e3=>this.config.quality.options.includes(e3)));const s2=!W(this.options.quality)&&this.options.quality.length>1;if(We.toggleMenuButton.call(this,t2,s2),ie(i2),We.checkMenu.call(this),!s2)return;const n2=e3=>{const t3=He.get(`qualityBadge.${e3}`,this.config);return t3.length?We.createBadge.call(this,t3):null};this.options.quality.sort((e3,t3)=>{const i3=this.config.quality.options;return i3.indexOf(e3)>i3.indexOf(t3)?1:-1}).forEach(e3=>{We.createMenuItem.call(this,{value:e3,list:i2,type:t2,title:We.getLabel.call(this,"quality",e3),badge:n2(e3)})}),We.updateSetting.call(this,t2,i2)},setCaptionsMenu(){if(!H(this.elements.settings.panels.captions))return;const e2="captions",t2=this.elements.settings.panels.captions.querySelector('[role="menu"]'),i2=Ye.getTracks.call(this),s2=!!i2.length;if(We.toggleMenuButton.call(this,e2,s2),ie(t2),We.checkMenu.call(this),!s2)return;const n2=i2.map((e3,i3)=>({value:i3,checked:this.captions.toggled&&this.currentTrack===i3,title:Ye.getLabel.call(this,e3),badge:e3.language&&We.createBadge.call(this,e3.language.toUpperCase()),list:t2,type:"language"}));n2.unshift({value:-1,checked:!this.captions.toggled,title:He.get("disabled",this.config),list:t2,type:"language"}),n2.forEach(We.createMenuItem.bind(this)),We.updateSetting.call(this,e2,t2)},setSpeedMenu(){if(!H(this.elements.settings.panels.speed))return;const e2="speed",t2=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e3=>e3>=this.minimumSpeed&&e3<=this.maximumSpeed);const i2=!W(this.options.speed)&&this.options.speed.length>1;We.toggleMenuButton.call(this,e2,i2),ie(t2),We.checkMenu.call(this),i2&&(this.options.speed.forEach(i3=>{We.createMenuItem.call(this,{value:i3,list:t2,type:e2,title:We.getLabel.call(this,"speed",i3)})}),We.updateSetting.call(this,e2,t2))},checkMenu(){const{buttons:e2}=this.elements.settings,t2=!W(e2)&&Object.values(e2).some(e3=>!e3.hidden);ae(this.elements.settings.menu,!t2)},focusFirstMenuItem(e2,t2=!1){if(this.elements.settings.popup.hidden)return;let i2=e2;H(i2)||(i2=Object.values(this.elements.settings.panels).find(e3=>!e3.hidden));const s2=i2.querySelector('[role^="menuitem"]');ue.call(this,s2,t2)},toggleMenu(e2){const{popup:t2}=this.elements.settings,i2=this.elements.buttons.settings;if(!H(t2)||!H(i2))return;const{hidden:s2}=t2;let n2=s2;if(O(e2))n2=e2;else if(R(e2)&&e2.which===27)n2=!1;else if(F(e2)){const s3=q(e2.composedPath)?e2.composedPath()[0]:e2.target,a2=t2.contains(s3);if(a2||!a2&&e2.target!==i2&&n2)return}i2.setAttribute("aria-expanded",n2),ae(t2,!n2),le(this.elements.container,this.config.classNames.menu.open,n2),n2&&R(e2)?We.focusFirstMenuItem.call(this,null,!0):n2||s2||ue.call(this,i2,R(e2))},getMenuSize(e2){const t2=e2.cloneNode(!0);t2.style.position="absolute",t2.style.opacity=0,t2.removeAttribute("hidden"),e2.parentNode.appendChild(t2);const i2=t2.scrollWidth,s2=t2.scrollHeight;return te(t2),{width:i2,height:s2}},showMenuPanel(e2="",t2=!1){const i2=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e2}`);if(!H(i2))return;const s2=i2.parentNode,n2=Array.from(s2.children).find(e3=>!e3.hidden);if(me.transitions&&!me.reducedMotion){s2.style.width=`${n2.scrollWidth}px`,s2.style.height=`${n2.scrollHeight}px`;const e3=We.getMenuSize.call(this,i2),t3=e4=>{e4.target===s2&&["width","height"].includes(e4.propertyName)&&(s2.style.width="",s2.style.height="",ye.call(this,s2,z,t3))};fe.call(this,s2,z,t3),s2.style.width=`${e3.width}px`,s2.style.height=`${e3.height}px`}ae(n2,!0),ae(i2,!1),We.focusFirstMenuItem.call(this,i2,t2)},setDownloadUrl(){const e2=this.elements.buttons.download;H(e2)&&e2.setAttribute("href",this.download)},create(e2){const{bindMenuItemShortcuts:t2,createButton:i2,createProgress:s2,createRange:n2,createTime:a2,setQualityMenu:l2,setSpeedMenu:o2,showMenuPanel:r2}=We;this.elements.controls=null,j(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i2.call(this,"play-large"));const c2=Z("div",ne(this.config.selectors.controls.wrapper));this.elements.controls=c2;const h2={class:"plyr__controls__item"};return Ce(j(this.config.controls)?this.config.controls:[]).forEach(l3=>{if(l3==="restart"&&c2.appendChild(i2.call(this,"restart",h2)),l3==="rewind"&&c2.appendChild(i2.call(this,"rewind",h2)),l3==="play"&&c2.appendChild(i2.call(this,"play",h2)),l3==="fast-forward"&&c2.appendChild(i2.call(this,"fast-forward",h2)),l3==="progress"){const t3=Z("div",{class:`${h2.class} plyr__progress__container`}),i3=Z("div",ne(this.config.selectors.progress));if(i3.appendChild(n2.call(this,"seek",{id:`plyr-seek-${e2.id}`})),i3.appendChild(s2.call(this,"buffer")),this.config.tooltips.seek){const e3=Z("span",{class:this.config.classNames.tooltip},"00:00");i3.appendChild(e3),this.elements.display.seekTooltip=e3}this.elements.progress=i3,t3.appendChild(this.elements.progress),c2.appendChild(t3)}if(l3==="current-time"&&c2.appendChild(a2.call(this,"currentTime",h2)),l3==="duration"&&c2.appendChild(a2.call(this,"duration",h2)),l3==="mute"||l3==="volume"){let{volume:t3}=this.elements;if(H(t3)&&c2.contains(t3)||(t3=Z("div",X({},h2,{class:`${h2.class} plyr__volume`.trim()})),this.elements.volume=t3,c2.appendChild(t3)),l3==="mute"&&t3.appendChild(i2.call(this,"mute")),l3==="volume"&&!Y.isIos){const i3={max:1,step:.05,value:this.config.volume};t3.appendChild(n2.call(this,"volume",X(i3,{id:`plyr-volume-${e2.id}`})))}}if(l3==="captions"&&c2.appendChild(i2.call(this,"captions",h2)),l3==="settings"&&!W(this.config.settings)){const s3=Z("div",X({},h2,{class:`${h2.class} plyr__menu`.trim(),hidden:""}));s3.appendChild(i2.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e2.id}`,"aria-expanded":!1}));const n3=Z("div",{class:"plyr__menu__container",id:`plyr-settings-${e2.id}`,hidden:""}),a3=Z("div"),l4=Z("div",{id:`plyr-settings-${e2.id}-home`}),o3=Z("div",{role:"menu"});l4.appendChild(o3),a3.appendChild(l4),this.elements.settings.panels.home=l4,this.config.settings.forEach(i3=>{const s4=Z("button",X(ne(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t2.call(this,s4,i3),fe.call(this,s4,"click",()=>{r2.call(this,i3,!1)});const n4=Z("span",null,He.get(i3,this.config)),l5=Z("span",{class:this.config.classNames.menu.value});l5.innerHTML=e2[i3],n4.appendChild(l5),s4.appendChild(n4),o3.appendChild(s4);const c3=Z("div",{id:`plyr-settings-${e2.id}-${i3}`,hidden:""}),h3=Z("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});h3.appendChild(Z("span",{"aria-hidden":!0},He.get(i3,this.config))),h3.appendChild(Z("span",{class:this.config.classNames.hidden},He.get("menuBack",this.config))),fe.call(this,c3,"keydown",e3=>{e3.which===37&&(e3.preventDefault(),e3.stopPropagation(),r2.call(this,"home",!0))},!1),fe.call(this,h3,"click",()=>{r2.call(this,"home",!1)}),c3.appendChild(h3),c3.appendChild(Z("div",{role:"menu"})),a3.appendChild(c3),this.elements.settings.buttons[i3]=s4,this.elements.settings.panels[i3]=c3}),n3.appendChild(a3),s3.appendChild(n3),c2.appendChild(s3),this.elements.settings.popup=n3,this.elements.settings.menu=s3}if(l3==="pip"&&me.pip&&c2.appendChild(i2.call(this,"pip",h2)),l3==="airplay"&&me.airplay&&c2.appendChild(i2.call(this,"airplay",h2)),l3==="download"){const e3=X({},h2,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e3.download="");const{download:t3}=this.config.urls;!U(t3)&&this.isEmbed&&X(e3,{icon:`logo-${this.provider}`,label:this.provider}),c2.appendChild(i2.call(this,"download",e3))}l3==="fullscreen"&&c2.appendChild(i2.call(this,"fullscreen",h2))}),this.isHTML5&&l2.call(this,Le.getQualityOptions.call(this)),o2.call(this),c2},inject(){if(this.config.loadSprite){const e3=We.getIconUrl.call(this);e3.cors&&Ve(e3.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e2=null;this.elements.controls=null;const t2={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i2=!0;q(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t2)),this.config.controls||(this.config.controls=[]),H(this.config.controls)||_(this.config.controls)?e2=this.config.controls:(e2=We.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Ye.getLabel.call(this)}),i2=!1);let s2;if(i2&&_(this.config.controls)&&(e2=(e3=>{let i3=e3;return Object.entries(t2).forEach(([e4,t3])=>{i3=_e(i3,`{${e4}}`,t3)}),i3})(e2)),_(this.config.selectors.controls.container)&&(s2=document.querySelector(this.config.selectors.controls.container)),H(s2)||(s2=this.elements.container),s2[H(e2)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e2),H(this.elements.controls)||We.findElements.call(this),!W(this.elements.buttons)){const e3=e4=>{const t3=this.config.classNames.controlPressed;Object.defineProperty(e4,"pressed",{enumerable:!0,get:()=>oe(e4,t3),set(i3=!1){le(e4,t3,i3)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(t3=>{j(t3)||D(t3)?Array.from(t3).filter(Boolean).forEach(e3):e3(t3)})}if(Y.isEdge&&K(s2),this.config.tooltips.controls){const{classNames:e3,selectors:t3}=this.config,i3=`${t3.controls.wrapper} ${t3.labels} .${e3.hidden}`,s3=ce.call(this,i3);Array.from(s3).forEach(e4=>{le(e4,this.config.classNames.hidden,!1),le(e4,this.config.classNames.tooltip,!0)})}}};function ze(e2,t2=!0){let i2=e2;if(t2){const e3=document.createElement("a");e3.href=i2,i2=e3.href}try{return new URL(i2)}catch{return null}}function Ke(e2){const t2=new URLSearchParams;return L(e2)&&Object.entries(e2).forEach(([e3,i2])=>{t2.set(e3,i2)}),t2}const Ye={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!me.textTracks)return void(j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&We.setCaptionsMenu.call(this));var e2,t2;if(H(this.elements.captions)||(this.elements.captions=Z("div",ne(this.config.selectors.captions)),e2=this.elements.captions,t2=this.elements.wrapper,H(e2)&&H(t2)&&t2.parentNode.insertBefore(e2,t2.nextSibling)),Y.isIE&&window.URL){const e3=this.media.querySelectorAll("track");Array.from(e3).forEach(e4=>{const t3=e4.getAttribute("src"),i3=ze(t3);i3!==null&&i3.hostname!==window.location.href.hostname&&["http:","https:"].includes(i3.protocol)&&Re(t3,"blob").then(t4=>{e4.setAttribute("src",window.URL.createObjectURL(t4))}).catch(()=>{te(e4)})})}const i2=Ce((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e3=>e3.split("-")[0]));let s2=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();s2==="auto"&&([s2]=i2);let n2=this.storage.get("captions");if(O(n2)||({active:n2}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n2,language:s2,languages:i2}),this.isHTML5){const e3=this.config.captions.update?"addtrack removetrack":"removetrack";fe.call(this,this.media.textTracks,e3,Ye.update.bind(this))}setTimeout(Ye.update.bind(this),0)},update(){const e2=Ye.getTracks.call(this,!0),{active:t2,language:i2,meta:s2,currentTrackNode:n2}=this.captions,a2=!!e2.find(e3=>e3.language===i2);this.isHTML5&&this.isVideo&&e2.filter(e3=>!s2.get(e3)).forEach(e3=>{this.debug.log("Track added",e3),s2.set(e3,{default:e3.mode==="showing"}),e3.mode==="showing"&&(e3.mode="hidden"),fe.call(this,e3,"cuechange",()=>Ye.updateCues.call(this))}),(a2&&this.language!==i2||!e2.includes(n2))&&(Ye.setLanguage.call(this,i2),Ye.toggle.call(this,t2&&a2)),le(this.elements.container,this.config.classNames.captions.enabled,!W(e2)),j(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&We.setCaptionsMenu.call(this)},toggle(e2,t2=!0){if(!this.supported.ui)return;const{toggled:i2}=this.captions,s2=this.config.classNames.captions.active,n2=I(e2)?!i2:e2;if(n2!==i2){if(t2||(this.captions.active=n2,this.storage.set({captions:n2})),!this.language&&n2&&!t2){const e3=Ye.getTracks.call(this),t3=Ye.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t3.language,void Ye.set.call(this,e3.indexOf(t3))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n2),le(this.elements.container,s2,n2),this.captions.toggled=n2,We.updateSetting.call(this,"captions"),ve.call(this,this.media,n2?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n2&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e2,t2=!0){const i2=Ye.getTracks.call(this);if(e2!==-1)if($(e2))if(e2 in i2){if(this.captions.currentTrack!==e2){this.captions.currentTrack=e2;const s2=i2[e2],{language:n2}=s2||{};this.captions.currentTrackNode=s2,We.updateSetting.call(this,"captions"),t2||(this.captions.language=n2,this.storage.set({language:n2})),this.isVimeo&&this.embed.enableTextTrack(n2),ve.call(this,this.media,"languagechange")}Ye.toggle.call(this,!0,t2),this.isHTML5&&this.isVideo&&Ye.updateCues.call(this)}else this.debug.warn("Track not found",e2);else this.debug.warn("Invalid caption argument",e2);else Ye.toggle.call(this,!1,t2)},setLanguage(e2,t2=!0){if(!_(e2))return void this.debug.warn("Invalid language argument",e2);const i2=e2.toLowerCase();this.captions.language=i2;const s2=Ye.getTracks.call(this),n2=Ye.findTrack.call(this,[i2]);Ye.set.call(this,s2.indexOf(n2),t2)},getTracks(e2=!1){return Array.from((this.media||{}).textTracks||[]).filter(t2=>!this.isHTML5||e2||this.captions.meta.has(t2)).filter(e3=>["captions","subtitles"].includes(e3.kind))},findTrack(e2,t2=!1){const i2=Ye.getTracks.call(this),s2=e3=>Number((this.captions.meta.get(e3)||{}).default),n2=Array.from(i2).sort((e3,t3)=>s2(t3)-s2(e3));let a2;return e2.every(e3=>(a2=n2.find(t3=>t3.language===e3),!a2)),a2||(t2?n2[0]:void 0)},getCurrentTrack(){return Ye.getTracks.call(this)[this.currentTrack]},getLabel(e2){let t2=e2;return!V(t2)&&me.textTracks&&this.captions.toggled&&(t2=Ye.getCurrentTrack.call(this)),V(t2)?W(t2.label)?W(t2.language)?He.get("enabled",this.config):e2.language.toUpperCase():t2.label:He.get("disabled",this.config)},updateCues(e2){if(!this.supported.ui)return;if(!H(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!I(e2)&&!Array.isArray(e2))return void this.debug.warn("updateCues: Invalid input",e2);let t2=e2;if(!t2){const e3=Ye.getCurrentTrack.call(this);t2=Array.from((e3||{}).activeCues||[]).map(e4=>e4.getCueAsHTML()).map(je)}const i2=t2.map(e3=>e3.trim()).join(`
`);if(i2!==this.elements.captions.innerHTML){ie(this.elements.captions);const e3=Z("span",ne(this.config.selectors.caption));e3.innerHTML=i2,this.elements.captions.appendChild(e3),ve.call(this,this.media,"cuechange")}}},Qe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},Xe="picture-in-picture",Je="inline",Ge={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ze="audio",et="video",tt=()=>{};class it{constructor(e2=!1){this.enabled=window.console&&e2,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):tt}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):tt}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):tt}}class st{constructor(t2){e(this,"onChange",()=>{if(!this.enabled)return;const e2=this.player.elements.buttons.fullscreen;H(e2)&&(e2.pressed=this.active);const t3=this.target===this.player.media?this.target:this.player.elements.container;ve.call(this.player,t3,this.active?"enterfullscreen":"exitfullscreen",!0)}),e(this,"toggleFallback",(e2=!1)=>{if(e2?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e2?"hidden":"",le(this.target,this.player.config.classNames.fullscreen.fallback,e2),Y.isIos){let t3=document.head.querySelector('meta[name="viewport"]');const i2="viewport-fit=cover";t3||(t3=document.createElement("meta"),t3.setAttribute("name","viewport"));const s2=_(t3.content)&&t3.content.includes(i2);e2?(this.cleanupViewport=!s2,s2||(t3.content+=`,${i2}`)):this.cleanupViewport&&(t3.content=t3.content.split(",").filter(e3=>e3.trim()!==i2).join(","))}this.onChange()}),e(this,"trapFocus",e2=>{if(Y.isIos||!this.active||e2.key!=="Tab"||e2.keyCode!==9)return;const t3=document.activeElement,i2=ce.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s2]=i2,n2=i2[i2.length-1];t3!==n2||e2.shiftKey?t3===s2&&e2.shiftKey&&(n2.focus(),e2.preventDefault()):(s2.focus(),e2.preventDefault())}),e(this,"update",()=>{if(this.enabled){let e2;e2=this.forceFallback?"Fallback (forced)":st.native?"Native":"Fallback",this.player.debug.log(`${e2} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");le(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),e(this,"enter",()=>{this.enabled&&(Y.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!st.native||this.forceFallback?this.toggleFallback(!0):this.prefix?W(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),e(this,"exit",()=>{if(this.enabled)if(Y.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),ke(this.player.play());else if(!st.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!W(this.prefix)){const e2=this.prefix==="moz"?"Cancel":"Exit";document[`${this.prefix}${e2}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),e(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t2,this.prefix=st.prefix,this.property=st.property,this.scrollPosition={x:0,y:0},this.forceFallback=t2.config.fullscreen.fallback==="force",this.player.elements.fullscreen=t2.config.fullscreen.container&&function(e2,t3){const{prototype:i2}=Element;return(i2.closest||function(){let e3=this;do{if(re.matches(e3,t3))return e3;e3=e3.parentElement||e3.parentNode}while(e3!==null&&e3.nodeType===1);return null}).call(e2,t3)}(this.player.elements.container,t2.config.fullscreen.container),fe.call(this.player,document,this.prefix==="ms"?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),fe.call(this.player,this.player.elements.container,"dblclick",e2=>{H(this.player.elements.controls)&&this.player.elements.controls.contains(e2.target)||this.player.listeners.proxy(e2,this.toggle,"fullscreen")}),fe.call(this,this.player.elements.container,"keydown",e2=>this.trapFocus(e2)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return st.native&&!this.forceFallback}static get prefix(){if(q(document.exitFullscreen))return"";let e2="";return["webkit","moz","ms"].some(t2=>!(!q(document[`${t2}ExitFullscreen`])&&!q(document[`${t2}CancelFullScreen`]))&&(e2=t2,!0)),e2}static get property(){return this.prefix==="moz"?"FullScreen":"Fullscreen"}get enabled(){return(st.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!st.native||this.forceFallback)return oe(this.target,this.player.config.classNames.fullscreen.fallback);const e2=this.prefix?document[`${this.prefix}${this.property}Element`]:document.fullscreenElement;return e2&&e2.shadowRoot?e2===this.target.getRootNode().host:e2===this.target}get target(){return Y.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function nt(e2,t2=1){return new Promise((i2,s2)=>{const n2=new Image,a2=()=>{delete n2.onload,delete n2.onerror,(n2.naturalWidth>=t2?i2:s2)(n2)};Object.assign(n2,{onload:a2,onerror:a2,src:e2})})}const at={addStyleHook(){le(this.elements.container,this.config.selectors.container.replace(".",""),!0),le(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e2=!1){e2&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void at.toggleNativeControls.call(this,!0);H(this.elements.controls)||(We.inject.call(this),this.listeners.controls()),at.toggleNativeControls.call(this),this.isHTML5&&Ye.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,We.updateVolume.call(this),We.timeUpdate.call(this),at.checkPlaying.call(this),le(this.elements.container,this.config.classNames.pip.supported,me.pip&&this.isHTML5&&this.isVideo),le(this.elements.container,this.config.classNames.airplay.supported,me.airplay&&this.isHTML5),le(this.elements.container,this.config.classNames.isIos,Y.isIos),le(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{ve.call(this,this.media,"ready")},0),at.setTitle.call(this),this.poster&&at.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&We.durationUpdate.call(this)},setTitle(){let e2=He.get("play",this.config);if(_(this.config.title)&&!W(this.config.title)&&(e2+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t2=>{t2.setAttribute("aria-label",e2)}),this.isEmbed){const e3=he.call(this,"iframe");if(!H(e3))return;const t2=W(this.config.title)?"video":this.config.title,i2=He.get("frameTitle",this.config);e3.setAttribute("title",i2.replace("{title}",t2))}},togglePoster(e2){le(this.elements.container,this.config.classNames.posterEnabled,e2)},setPoster(e2,t2=!0){return t2&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e2),this.elements.poster.removeAttribute("hidden"),Te.call(this).then(()=>nt(e2)).catch(t3=>{throw e2===this.poster&&at.togglePoster.call(this,!1),t3}).then(()=>{if(e2!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e2}')`,backgroundSize:""}),at.togglePoster.call(this,!0),e2)))},checkPlaying(e2){le(this.elements.container,this.config.classNames.playing,this.playing),le(this.elements.container,this.config.classNames.paused,this.paused),le(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e3=>{Object.assign(e3,{pressed:this.playing}),e3.setAttribute("aria-label",He.get(this.playing?"pause":"play",this.config))}),F(e2)&&e2.type==="timeupdate"||at.toggleControls.call(this)},checkLoading(e2){this.loading=["stalled","waiting"].includes(e2.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{le(this.elements.container,this.config.classNames.loading,this.loading),at.toggleControls.call(this)},this.loading?250:0)},toggleControls(e2){const{controls:t2}=this.elements;if(t2&&this.config.hideControls){const i2=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(e2||this.loading||this.paused||t2.pressed||t2.hover||i2))}},migrateStyles(){Object.values({...this.media.style}).filter(e2=>!W(e2)&&_(e2)&&e2.startsWith("--plyr")).forEach(e2=>{this.elements.container.style.setProperty(e2,this.media.style.getPropertyValue(e2)),this.media.style.removeProperty(e2)}),W(this.media.style)&&this.media.removeAttribute("style")}};class lt{constructor(t2){e(this,"firstTouch",()=>{const{player:e2}=this,{elements:t3}=e2;e2.touch=!0,le(t3.container,e2.config.classNames.isTouch,!0)}),e(this,"setTabFocus",e2=>{const{player:t3}=this,{elements:i2}=t3;if(clearTimeout(this.focusTimer),e2.type==="keydown"&&e2.which!==9)return;e2.type==="keydown"&&(this.lastKeyDown=e2.timeStamp);const s2=e2.timeStamp-this.lastKeyDown<=20;(e2.type!=="focus"||s2)&&((()=>{const e3=t3.config.classNames.tabFocus;le(ce.call(t3,`.${e3}`),e3,!1)})(),e2.type!=="focusout"&&(this.focusTimer=setTimeout(()=>{const e3=document.activeElement;i2.container.contains(e3)&&le(document.activeElement,t3.config.classNames.tabFocus,!0)},10)))}),e(this,"global",(e2=!0)=>{const{player:t3}=this;t3.config.keyboard.global&&ge.call(t3,window,"keydown keyup",this.handleKey,e2,!1),ge.call(t3,document.body,"click",this.toggleMenu,e2),be.call(t3,document.body,"touchstart",this.firstTouch),ge.call(t3,document.body,"keydown focus blur focusout",this.setTabFocus,e2,!1,!0)}),e(this,"container",()=>{const{player:e2}=this,{config:t3,elements:i2,timers:s2}=e2;!t3.keyboard.global&&t3.keyboard.focused&&fe.call(e2,i2.container,"keydown keyup",this.handleKey,!1),fe.call(e2,i2.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",t4=>{const{controls:n3}=i2;n3&&t4.type==="enterfullscreen"&&(n3.pressed=!1,n3.hover=!1);let a3=0;["touchstart","touchmove","mousemove"].includes(t4.type)&&(at.toggleControls.call(e2,!0),a3=e2.touch?3e3:2e3),clearTimeout(s2.controls),s2.controls=setTimeout(()=>at.toggleControls.call(e2,!1),a3)});const n2=()=>{if(!e2.isVimeo||e2.config.vimeo.premium)return;const t4=i2.wrapper,{active:s3}=e2.fullscreen,[n3,a3]=Me.call(e2),l2=Se(`aspect-ratio: ${n3} / ${a3}`);if(!s3)return void(l2?(t4.style.width=null,t4.style.height=null):(t4.style.maxWidth=null,t4.style.margin=null));const[o2,r2]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c2=o2/r2>n3/a3;l2?(t4.style.width=c2?"auto":"100%",t4.style.height=c2?"100%":"auto"):(t4.style.maxWidth=c2?r2/a3*n3+"px":null,t4.style.margin=c2?"0 auto":null)},a2=()=>{clearTimeout(s2.resized),s2.resized=setTimeout(n2,50)};fe.call(e2,i2.container,"enterfullscreen exitfullscreen",t4=>{const{target:s3}=e2.fullscreen;s3===i2.container&&(!e2.isEmbed&&W(e2.config.ratio)||(n2(),(t4.type==="enterfullscreen"?fe:ye).call(e2,window,"resize",a2)))})}),e(this,"media",()=>{const{player:e2}=this,{elements:t3}=e2;if(fe.call(e2,e2.media,"timeupdate seeking seeked",t4=>We.timeUpdate.call(e2,t4)),fe.call(e2,e2.media,"durationchange loadeddata loadedmetadata",t4=>We.durationUpdate.call(e2,t4)),fe.call(e2,e2.media,"ended",()=>{e2.isHTML5&&e2.isVideo&&e2.config.resetOnEnd&&(e2.restart(),e2.pause())}),fe.call(e2,e2.media,"progress playing seeking seeked",t4=>We.updateProgress.call(e2,t4)),fe.call(e2,e2.media,"volumechange",t4=>We.updateVolume.call(e2,t4)),fe.call(e2,e2.media,"playing play pause ended emptied timeupdate",t4=>at.checkPlaying.call(e2,t4)),fe.call(e2,e2.media,"waiting canplay seeked playing",t4=>at.checkLoading.call(e2,t4)),e2.supported.ui&&e2.config.clickToPlay&&!e2.isAudio){const i3=he.call(e2,`.${e2.config.classNames.video}`);if(!H(i3))return;fe.call(e2,t3.container,"click",s2=>{([t3.container,i3].includes(s2.target)||i3.contains(s2.target))&&(e2.touch&&e2.config.hideControls||(e2.ended?(this.proxy(s2,e2.restart,"restart"),this.proxy(s2,()=>{ke(e2.play())},"play")):this.proxy(s2,()=>{ke(e2.togglePlay())},"play")))})}e2.supported.ui&&e2.config.disableContextMenu&&fe.call(e2,t3.wrapper,"contextmenu",e3=>{e3.preventDefault()},!1),fe.call(e2,e2.media,"volumechange",()=>{e2.storage.set({volume:e2.volume,muted:e2.muted})}),fe.call(e2,e2.media,"ratechange",()=>{We.updateSetting.call(e2,"speed"),e2.storage.set({speed:e2.speed})}),fe.call(e2,e2.media,"qualitychange",t4=>{We.updateSetting.call(e2,"quality",null,t4.detail.quality)}),fe.call(e2,e2.media,"ready qualitychange",()=>{We.setDownloadUrl.call(e2)});const i2=e2.config.events.concat(["keyup","keydown"]).join(" ");fe.call(e2,e2.media,i2,i3=>{let{detail:s2={}}=i3;i3.type==="error"&&(s2=e2.media.error),ve.call(e2,t3.container,i3.type,!0,s2)})}),e(this,"proxy",(e2,t3,i2)=>{const{player:s2}=this,n2=s2.config.listeners[i2];let a2=!0;q(n2)&&(a2=n2.call(s2,e2)),a2!==!1&&q(t3)&&t3.call(s2,e2)}),e(this,"bind",(e2,t3,i2,s2,n2=!0)=>{const{player:a2}=this,l2=a2.config.listeners[s2],o2=q(l2);fe.call(a2,e2,t3,e3=>this.proxy(e3,i2,s2),n2&&!o2)}),e(this,"controls",()=>{const{player:e2}=this,{elements:t3}=e2,i2=Y.isIE?"change":"input";if(t3.buttons.play&&Array.from(t3.buttons.play).forEach(t4=>{this.bind(t4,"click",()=>{ke(e2.togglePlay())},"play")}),this.bind(t3.buttons.restart,"click",e2.restart,"restart"),this.bind(t3.buttons.rewind,"click",()=>{e2.lastSeekTime=Date.now(),e2.rewind()},"rewind"),this.bind(t3.buttons.fastForward,"click",()=>{e2.lastSeekTime=Date.now(),e2.forward()},"fastForward"),this.bind(t3.buttons.mute,"click",()=>{e2.muted=!e2.muted},"mute"),this.bind(t3.buttons.captions,"click",()=>e2.toggleCaptions()),this.bind(t3.buttons.download,"click",()=>{ve.call(e2,e2.media,"download")},"download"),this.bind(t3.buttons.fullscreen,"click",()=>{e2.fullscreen.toggle()},"fullscreen"),this.bind(t3.buttons.pip,"click",()=>{e2.pip="toggle"},"pip"),this.bind(t3.buttons.airplay,"click",e2.airplay,"airplay"),this.bind(t3.buttons.settings,"click",t4=>{t4.stopPropagation(),t4.preventDefault(),We.toggleMenu.call(e2,t4)},null,!1),this.bind(t3.buttons.settings,"keyup",t4=>{const i3=t4.which;[13,32].includes(i3)&&(i3!==13?(t4.preventDefault(),t4.stopPropagation(),We.toggleMenu.call(e2,t4)):We.focusFirstMenuItem.call(e2,null,!0))},null,!1),this.bind(t3.settings.menu,"keydown",t4=>{t4.which===27&&We.toggleMenu.call(e2,t4)}),this.bind(t3.inputs.seek,"mousedown mousemove",e3=>{const i3=t3.progress.getBoundingClientRect(),s2=100/i3.width*(e3.pageX-i3.left);e3.currentTarget.setAttribute("seek-value",s2)}),this.bind(t3.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",t4=>{const i3=t4.currentTarget,s2=t4.keyCode?t4.keyCode:t4.which,n2="play-on-seeked";if(R(t4)&&s2!==39&&s2!==37)return;e2.lastSeekTime=Date.now();const a2=i3.hasAttribute(n2),l2=["mouseup","touchend","keyup"].includes(t4.type);a2&&l2?(i3.removeAttribute(n2),ke(e2.play())):!l2&&e2.playing&&(i3.setAttribute(n2,""),e2.pause())}),Y.isIos){const t4=ce.call(e2,'input[type="range"]');Array.from(t4).forEach(e3=>this.bind(e3,i2,e4=>K(e4.target)))}this.bind(t3.inputs.seek,i2,t4=>{const i3=t4.currentTarget;let s2=i3.getAttribute("seek-value");W(s2)&&(s2=i3.value),i3.removeAttribute("seek-value"),e2.currentTime=s2/i3.max*e2.duration},"seek"),this.bind(t3.progress,"mouseenter mouseleave mousemove",t4=>We.updateSeekTooltip.call(e2,t4)),this.bind(t3.progress,"mousemove touchmove",t4=>{const{previewThumbnails:i3}=e2;i3&&i3.loaded&&i3.startMove(t4)}),this.bind(t3.progress,"mouseleave touchend click",()=>{const{previewThumbnails:t4}=e2;t4&&t4.loaded&&t4.endMove(!1,!0)}),this.bind(t3.progress,"mousedown touchstart",t4=>{const{previewThumbnails:i3}=e2;i3&&i3.loaded&&i3.startScrubbing(t4)}),this.bind(t3.progress,"mouseup touchend",t4=>{const{previewThumbnails:i3}=e2;i3&&i3.loaded&&i3.endScrubbing(t4)}),Y.isWebkit&&Array.from(ce.call(e2,'input[type="range"]')).forEach(t4=>{this.bind(t4,"input",t5=>We.updateRangeFill.call(e2,t5.target))}),e2.config.toggleInvert&&!H(t3.display.duration)&&this.bind(t3.display.currentTime,"click",()=>{e2.currentTime!==0&&(e2.config.invertTime=!e2.config.invertTime,We.timeUpdate.call(e2))}),this.bind(t3.inputs.volume,i2,t4=>{e2.volume=t4.target.value},"volume"),this.bind(t3.controls,"mouseenter mouseleave",i3=>{t3.controls.hover=!e2.touch&&i3.type==="mouseenter"}),t3.fullscreen&&Array.from(t3.fullscreen.children).filter(e3=>!e3.contains(t3.container)).forEach(i3=>{this.bind(i3,"mouseenter mouseleave",i4=>{t3.controls.hover=!e2.touch&&i4.type==="mouseenter"})}),this.bind(t3.controls,"mousedown mouseup touchstart touchend touchcancel",e3=>{t3.controls.pressed=["mousedown","touchstart"].includes(e3.type)}),this.bind(t3.controls,"focusin",()=>{const{config:i3,timers:s2}=e2;le(t3.controls,i3.classNames.noTransition,!0),at.toggleControls.call(e2,!0),setTimeout(()=>{le(t3.controls,i3.classNames.noTransition,!1)},0);const n2=this.touch?3e3:4e3;clearTimeout(s2.controls),s2.controls=setTimeout(()=>at.toggleControls.call(e2,!1),n2)}),this.bind(t3.inputs.volume,"wheel",t4=>{const i3=t4.webkitDirectionInvertedFromDevice,[s2,n2]=[t4.deltaX,-t4.deltaY].map(e3=>i3?-e3:e3),a2=Math.sign(Math.abs(s2)>Math.abs(n2)?s2:n2);e2.increaseVolume(a2/50);const{volume:l2}=e2.media;(a2===1&&l2<1||a2===-1&&l2>0)&&t4.preventDefault()},"volume",!1)}),this.player=t2,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e2){const{player:t2}=this,{elements:i2}=t2,s2=e2.keyCode?e2.keyCode:e2.which,n2=e2.type==="keydown",a2=n2&&s2===this.lastKey;if(!(e2.altKey||e2.ctrlKey||e2.metaKey||e2.shiftKey)&&$(s2))if(n2){const n3=document.activeElement;if(H(n3)){const{editable:s3}=t2.config.selectors,{seek:a3}=i2.inputs;if(n3!==a3&&re(n3,s3)||e2.which===32&&re(n3,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(s2)&&(e2.preventDefault(),e2.stopPropagation()),s2){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a2||(t2.currentTime=t2.duration/10*(s2-48));break;case 32:case 75:a2||ke(t2.togglePlay());break;case 38:t2.increaseVolume(.1);break;case 40:t2.decreaseVolume(.1);break;case 77:a2||(t2.muted=!t2.muted);break;case 39:t2.forward();break;case 37:t2.rewind();break;case 70:t2.fullscreen.toggle();break;case 67:a2||t2.toggleCaptions();break;case 76:t2.loop=!t2.loop}s2===27&&!t2.fullscreen.usingNative&&t2.fullscreen.active&&t2.fullscreen.toggle(),this.lastKey=s2}else this.lastKey=null}toggleMenu(e2){We.toggleMenu.call(this.player,e2)}}typeof globalThis<"u"||typeof window<"u"||(typeof __webpack_require__2.g<"u"?__webpack_require__2.g:typeof self<"u");var ot=function(e2,t2){return e2(t2={exports:{}},t2.exports),t2.exports}(function(e2,t2){e2.exports=function(){var e3=function(){},t3={},i2={},s2={};function n2(e4,t4){e4=e4.push?e4:[e4];var n3,a3,l3,o3=[],r3=e4.length,c3=r3;for(n3=function(e5,i3){i3.length&&o3.push(e5),--c3||t4(o3)};r3--;)a3=e4[r3],(l3=i2[a3])?n3(a3,l3):(s2[a3]=s2[a3]||[]).push(n3)}function a2(e4,t4){if(e4){var n3=s2[e4];if(i2[e4]=t4,n3)for(;n3.length;)n3[0](e4,t4),n3.splice(0,1)}}function l2(t4,i3){t4.call&&(t4={success:t4}),i3.length?(t4.error||e3)(i3):(t4.success||e3)(t4)}function o2(t4,i3,s3,n3){var a3,l3,r3=document,c3=s3.async,h2=(s3.numRetries||0)+1,u2=s3.before||e3,d2=t4.replace(/[\?|#].*$/,""),m2=t4.replace(/^(css|img)!/,"");n3=n3||0,/(^css!|\.css$)/.test(d2)?((l3=r3.createElement("link")).rel="stylesheet",l3.href=m2,(a3="hideFocus"in l3)&&l3.relList&&(a3=0,l3.rel="preload",l3.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d2)?(l3=r3.createElement("img")).src=m2:((l3=r3.createElement("script")).src=t4,l3.async=c3===void 0||c3),l3.onload=l3.onerror=l3.onbeforeload=function(e4){var r4=e4.type[0];if(a3)try{l3.sheet.cssText.length||(r4="e")}catch(e5){e5.code!=18&&(r4="e")}if(r4=="e"){if((n3+=1)<h2)return o2(t4,i3,s3,n3)}else if(l3.rel=="preload"&&l3.as=="style")return l3.rel="stylesheet";i3(t4,r4,e4.defaultPrevented)},u2(t4,l3)!==!1&&r3.head.appendChild(l3)}function r2(e4,t4,i3){var s3,n3,a3=(e4=e4.push?e4:[e4]).length,l3=a3,r3=[];for(s3=function(e5,i4,s4){if(i4=="e"&&r3.push(e5),i4=="b"){if(!s4)return;r3.push(e5)}--a3||t4(r3)},n3=0;n3<l3;n3++)o2(e4[n3],s3,i3)}function c2(e4,i3,s3){var n3,o3;if(i3&&i3.trim&&(n3=i3),o3=(n3?s3:i3)||{},n3){if(n3 in t3)throw"LoadJS";t3[n3]=!0}function c3(t4,i4){r2(e4,function(e5){l2(o3,e5),t4&&l2({success:t4,error:i4},e5),a2(n3,e5)},o3)}if(o3.returnPromise)return new Promise(c3);c3()}return c2.ready=function(e4,t4){return n2(e4,function(e5){l2(t4,e5)}),c2},c2.done=function(e4){a2(e4,[])},c2.reset=function(){t3={},i2={},s2={}},c2.isDefined=function(e4){return e4 in t3},c2}()});function rt(e2){return new Promise((t2,i2)=>{ot(e2,{success:t2,error:i2})})}function ct(e2){e2&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e2&&(this.media.paused=!e2,ve.call(this,this.media,e2?"play":"pause"))}const ht={setup(){const e2=this;le(e2.elements.wrapper,e2.config.classNames.embed,!0),e2.options.speed=e2.config.speed.options,Ne.call(e2),L(window.Vimeo)?ht.ready.call(e2):rt(e2.config.urls.vimeo.sdk).then(()=>{ht.ready.call(e2)}).catch(t2=>{e2.debug.warn("Vimeo SDK (player.js) failed to load",t2)})},ready(){const e2=this,t2=e2.config.vimeo,{premium:i2,referrerPolicy:s2,...n2}=t2;i2&&Object.assign(n2,{controls:!1,sidedock:!1});const a2=Ke({loop:e2.config.loop.active,autoplay:e2.autoplay,muted:e2.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...n2});let l2=e2.media.getAttribute("src");W(l2)&&(l2=e2.media.getAttribute(e2.config.attributes.embed.id));const o2=W(r2=l2)?null:$(Number(r2))?r2:r2.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:r2;var r2;const c2=Z("iframe"),h2=$e(e2.config.urls.vimeo.iframe,o2,a2);if(c2.setAttribute("src",h2),c2.setAttribute("allowfullscreen",""),c2.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),W(s2)||c2.setAttribute("referrerPolicy",s2),i2||!t2.customControls)c2.setAttribute("data-poster",e2.poster),e2.media=se(c2,e2.media);else{const t3=Z("div",{class:e2.config.classNames.embedContainer,"data-poster":e2.poster});t3.appendChild(c2),e2.media=se(t3,e2.media)}t2.customControls||Re($e(e2.config.urls.vimeo.api,h2)).then(t3=>{!W(t3)&&t3.thumbnail_url&&at.setPoster.call(e2,t3.thumbnail_url).catch(()=>{})}),e2.embed=new window.Vimeo.Player(c2,{autopause:e2.config.autopause,muted:e2.muted}),e2.media.paused=!0,e2.media.currentTime=0,e2.supported.ui&&e2.embed.disableTextTrack(),e2.media.play=()=>(ct.call(e2,!0),e2.embed.play()),e2.media.pause=()=>(ct.call(e2,!1),e2.embed.pause()),e2.media.stop=()=>{e2.pause(),e2.currentTime=0};let{currentTime:u2}=e2.media;Object.defineProperty(e2.media,"currentTime",{get:()=>u2,set(t3){const{embed:i3,media:s3,paused:n3,volume:a3}=e2,l3=n3&&!i3.hasPlayed;s3.seeking=!0,ve.call(e2,s3,"seeking"),Promise.resolve(l3&&i3.setVolume(0)).then(()=>i3.setCurrentTime(t3)).then(()=>l3&&i3.pause()).then(()=>l3&&i3.setVolume(a3)).catch(()=>{})}});let d2=e2.config.speed.selected;Object.defineProperty(e2.media,"playbackRate",{get:()=>d2,set(t3){e2.embed.setPlaybackRate(t3).then(()=>{d2=t3,ve.call(e2,e2.media,"ratechange")}).catch(()=>{e2.options.speed=[1]})}});let{volume:m2}=e2.config;Object.defineProperty(e2.media,"volume",{get:()=>m2,set(t3){e2.embed.setVolume(t3).then(()=>{m2=t3,ve.call(e2,e2.media,"volumechange")})}});let{muted:p2}=e2.config;Object.defineProperty(e2.media,"muted",{get:()=>p2,set(t3){const i3=!!O(t3)&&t3;e2.embed.setVolume(i3?0:e2.config.volume).then(()=>{p2=i3,ve.call(e2,e2.media,"volumechange")})}});let g2,{loop:f2}=e2.config;Object.defineProperty(e2.media,"loop",{get:()=>f2,set(t3){const i3=O(t3)?t3:e2.config.loop.active;e2.embed.setLoop(i3).then(()=>{f2=i3})}}),e2.embed.getVideoUrl().then(t3=>{g2=t3,We.setDownloadUrl.call(e2)}).catch(e3=>{this.debug.warn(e3)}),Object.defineProperty(e2.media,"currentSrc",{get:()=>g2}),Object.defineProperty(e2.media,"ended",{get:()=>e2.currentTime===e2.duration}),Promise.all([e2.embed.getVideoWidth(),e2.embed.getVideoHeight()]).then(t3=>{const[i3,s3]=t3;e2.embed.ratio=Ie(i3,s3),Ne.call(this)}),e2.embed.setAutopause(e2.config.autopause).then(t3=>{e2.config.autopause=t3}),e2.embed.getVideoTitle().then(t3=>{e2.config.title=t3,at.setTitle.call(this)}),e2.embed.getCurrentTime().then(t3=>{u2=t3,ve.call(e2,e2.media,"timeupdate")}),e2.embed.getDuration().then(t3=>{e2.media.duration=t3,ve.call(e2,e2.media,"durationchange")}),e2.embed.getTextTracks().then(t3=>{e2.media.textTracks=t3,Ye.setup.call(e2)}),e2.embed.on("cuechange",({cues:t3=[]})=>{const i3=t3.map(e3=>function(e4){const t4=document.createDocumentFragment(),i4=document.createElement("div");return t4.appendChild(i4),i4.innerHTML=e4,t4.firstChild.innerText}(e3.text));Ye.updateCues.call(e2,i3)}),e2.embed.on("loaded",()=>{e2.embed.getPaused().then(t3=>{ct.call(e2,!t3),t3||ve.call(e2,e2.media,"playing")}),H(e2.embed.element)&&e2.supported.ui&&e2.embed.element.setAttribute("tabindex",-1)}),e2.embed.on("bufferstart",()=>{ve.call(e2,e2.media,"waiting")}),e2.embed.on("bufferend",()=>{ve.call(e2,e2.media,"playing")}),e2.embed.on("play",()=>{ct.call(e2,!0),ve.call(e2,e2.media,"playing")}),e2.embed.on("pause",()=>{ct.call(e2,!1)}),e2.embed.on("timeupdate",t3=>{e2.media.seeking=!1,u2=t3.seconds,ve.call(e2,e2.media,"timeupdate")}),e2.embed.on("progress",t3=>{e2.media.buffered=t3.percent,ve.call(e2,e2.media,"progress"),parseInt(t3.percent,10)===1&&ve.call(e2,e2.media,"canplaythrough"),e2.embed.getDuration().then(t4=>{t4!==e2.media.duration&&(e2.media.duration=t4,ve.call(e2,e2.media,"durationchange"))})}),e2.embed.on("seeked",()=>{e2.media.seeking=!1,ve.call(e2,e2.media,"seeked")}),e2.embed.on("ended",()=>{e2.media.paused=!0,ve.call(e2,e2.media,"ended")}),e2.embed.on("error",t3=>{e2.media.error=t3,ve.call(e2,e2.media,"error")}),t2.customControls&&setTimeout(()=>at.build.call(e2),0)}};function ut(e2){e2&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e2&&(this.media.paused=!e2,ve.call(this,this.media,e2?"play":"pause"))}function dt(e2){return e2.noCookie?"https://www.youtube-nocookie.com":window.location.protocol==="http:"?"http://www.youtube.com":void 0}const mt={setup(){if(le(this.elements.wrapper,this.config.classNames.embed,!0),L(window.YT)&&q(window.YT.Player))mt.ready.call(this);else{const e2=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{q(e2)&&e2(),mt.ready.call(this)},rt(this.config.urls.youtube.sdk).catch(e3=>{this.debug.warn("YouTube API failed to load",e3)})}},getTitle(e2){Re($e(this.config.urls.youtube.api,e2)).then(e3=>{if(L(e3)){const{title:t2,height:i2,width:s2}=e3;this.config.title=t2,at.setTitle.call(this),this.embed.ratio=Ie(s2,i2)}Ne.call(this)}).catch(()=>{Ne.call(this)})},ready(){const e2=this,t2=e2.config.youtube,i2=e2.media&&e2.media.getAttribute("id");if(!W(i2)&&i2.startsWith("youtube-"))return;let s2=e2.media.getAttribute("src");W(s2)&&(s2=e2.media.getAttribute(this.config.attributes.embed.id));const n2=W(a2=s2)?null:a2.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a2;var a2;const l2=Z("div",{id:`${e2.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t2.customControls?e2.poster:void 0});if(e2.media=se(l2,e2.media),t2.customControls){const t3=e3=>`https://i.ytimg.com/vi/${n2}/${e3}default.jpg`;nt(t3("maxres"),121).catch(()=>nt(t3("sd"),121)).catch(()=>nt(t3("hq"))).then(t4=>at.setPoster.call(e2,t4.src)).then(t4=>{t4.includes("maxres")||(e2.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e2.embed=new window.YT.Player(e2.media,{videoId:n2,host:dt(t2),playerVars:X({},{autoplay:e2.config.autoplay?1:0,hl:e2.config.hl,controls:e2.supported.ui&&t2.customControls?0:1,disablekb:1,playsinline:e2.config.fullscreen.iosNative?0:1,cc_load_policy:e2.captions.active?1:0,cc_lang_pref:e2.config.captions.language,widget_referrer:window?window.location.href:null},t2),events:{onError(t3){if(!e2.media.error){const i3=t3.data,s3={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i3]||"An unknown error occured";e2.media.error={code:i3,message:s3},ve.call(e2,e2.media,"error")}},onPlaybackRateChange(t3){const i3=t3.target;e2.media.playbackRate=i3.getPlaybackRate(),ve.call(e2,e2.media,"ratechange")},onReady(i3){if(q(e2.media.play))return;const s3=i3.target;mt.getTitle.call(e2,n2),e2.media.play=()=>{ut.call(e2,!0),s3.playVideo()},e2.media.pause=()=>{ut.call(e2,!1),s3.pauseVideo()},e2.media.stop=()=>{s3.stopVideo()},e2.media.duration=s3.getDuration(),e2.media.paused=!0,e2.media.currentTime=0,Object.defineProperty(e2.media,"currentTime",{get:()=>Number(s3.getCurrentTime()),set(t3){e2.paused&&!e2.embed.hasPlayed&&e2.embed.mute(),e2.media.seeking=!0,ve.call(e2,e2.media,"seeking"),s3.seekTo(t3)}}),Object.defineProperty(e2.media,"playbackRate",{get:()=>s3.getPlaybackRate(),set(e3){s3.setPlaybackRate(e3)}});let{volume:a3}=e2.config;Object.defineProperty(e2.media,"volume",{get:()=>a3,set(t3){a3=t3,s3.setVolume(100*a3),ve.call(e2,e2.media,"volumechange")}});let{muted:l3}=e2.config;Object.defineProperty(e2.media,"muted",{get:()=>l3,set(t3){const i4=O(t3)?t3:l3;l3=i4,s3[i4?"mute":"unMute"](),s3.setVolume(100*a3),ve.call(e2,e2.media,"volumechange")}}),Object.defineProperty(e2.media,"currentSrc",{get:()=>s3.getVideoUrl()}),Object.defineProperty(e2.media,"ended",{get:()=>e2.currentTime===e2.duration});const o2=s3.getAvailablePlaybackRates();e2.options.speed=o2.filter(t3=>e2.config.speed.options.includes(t3)),e2.supported.ui&&t2.customControls&&e2.media.setAttribute("tabindex",-1),ve.call(e2,e2.media,"timeupdate"),ve.call(e2,e2.media,"durationchange"),clearInterval(e2.timers.buffering),e2.timers.buffering=setInterval(()=>{e2.media.buffered=s3.getVideoLoadedFraction(),(e2.media.lastBuffered===null||e2.media.lastBuffered<e2.media.buffered)&&ve.call(e2,e2.media,"progress"),e2.media.lastBuffered=e2.media.buffered,e2.media.buffered===1&&(clearInterval(e2.timers.buffering),ve.call(e2,e2.media,"canplaythrough"))},200),t2.customControls&&setTimeout(()=>at.build.call(e2),50)},onStateChange(i3){const s3=i3.target;switch(clearInterval(e2.timers.playing),e2.media.seeking&&[1,2].includes(i3.data)&&(e2.media.seeking=!1,ve.call(e2,e2.media,"seeked")),i3.data){case-1:ve.call(e2,e2.media,"timeupdate"),e2.media.buffered=s3.getVideoLoadedFraction(),ve.call(e2,e2.media,"progress");break;case 0:ut.call(e2,!1),e2.media.loop?(s3.stopVideo(),s3.playVideo()):ve.call(e2,e2.media,"ended");break;case 1:t2.customControls&&!e2.config.autoplay&&e2.media.paused&&!e2.embed.hasPlayed?e2.media.pause():(ut.call(e2,!0),ve.call(e2,e2.media,"playing"),e2.timers.playing=setInterval(()=>{ve.call(e2,e2.media,"timeupdate")},50),e2.media.duration!==s3.getDuration()&&(e2.media.duration=s3.getDuration(),ve.call(e2,e2.media,"durationchange")));break;case 2:e2.muted||e2.embed.unMute(),ut.call(e2,!1);break;case 3:ve.call(e2,e2.media,"waiting")}ve.call(e2,e2.elements.container,"statechange",!1,{code:i3.data})}}})}},pt={setup(){this.media?(le(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),le(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&le(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Z("div",{class:this.config.classNames.video}),J(this.media,this.elements.wrapper),this.elements.poster=Z("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?Le.setup.call(this):this.isYouTube?mt.setup.call(this):this.isVimeo&&ht.setup.call(this)):this.debug.warn("No media element found!")}};class gt{constructor(t2){e(this,"load",()=>{this.enabled&&(L(window.google)&&L(window.google.ima)?this.ready():rt(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),e(this,"ready",()=>{var e2;this.enabled||((e2=this).manager&&e2.manager.destroy(),e2.elements.displayContainer&&e2.elements.displayContainer.destroy(),e2.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),e(this,"setupIMA",()=>{this.elements.container=Z("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e2=>this.onAdsManagerLoaded(e2),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e2=>this.onAdError(e2),!1),this.requestAds()}),e(this,"requestAds",()=>{const{container:e2}=this.player.elements;try{const t3=new google.ima.AdsRequest;t3.adTagUrl=this.tagUrl,t3.linearAdSlotWidth=e2.offsetWidth,t3.linearAdSlotHeight=e2.offsetHeight,t3.nonLinearAdSlotWidth=e2.offsetWidth,t3.nonLinearAdSlotHeight=e2.offsetHeight,t3.forceNonLinearFullSlot=!1,t3.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t3)}catch(e3){this.onAdError(e3)}}),e(this,"pollCountdown",(e2=!1)=>{if(!e2)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const e3=Ue(Math.max(this.manager.getRemainingTime(),0)),t3=`${He.get("advertisement",this.player.config)} - ${e3}`;this.elements.container.setAttribute("data-badge-text",t3)},100)}),e(this,"onAdsManagerLoaded",e2=>{if(!this.enabled)return;const t3=new google.ima.AdsRenderingSettings;t3.restoreCustomPlaybackStateOnAdBreakComplete=!0,t3.enablePreloading=!0,this.manager=e2.getAdsManager(this.player,t3),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e3=>this.onAdError(e3)),Object.keys(google.ima.AdEvent.Type).forEach(e3=>{this.manager.addEventListener(google.ima.AdEvent.Type[e3],e4=>this.onAdEvent(e4))}),this.trigger("loaded")}),e(this,"addCuePoints",()=>{W(this.cuePoints)||this.cuePoints.forEach(e2=>{if(e2!==0&&e2!==-1&&e2<this.player.duration){const t3=this.player.elements.progress;if(H(t3)){const i2=100/this.player.duration*e2,s2=Z("span",{class:this.player.config.classNames.cues});s2.style.left=`${i2.toString()}%`,t3.appendChild(s2)}}})}),e(this,"onAdEvent",e2=>{const{container:t3}=this.player.elements,i2=e2.getAd(),s2=e2.getAdData();switch((e3=>{ve.call(this.player,this.player.media,`ads${e3.replace(/_/g,"").toLowerCase()}`)})(e2.type),e2.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i2.isLinear()||(i2.width=t3.offsetWidth,i2.height=t3.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s2.adError&&this.player.debug.warn(`Non-fatal ad error: ${s2.adError.getMessage()}`)}}),e(this,"onAdError",e2=>{this.cancel(),this.player.debug.warn("Ads error",e2)}),e(this,"listeners",()=>{const{container:e2}=this.player.elements;let t3;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{t3=this.player.currentTime}),this.player.on("seeked",()=>{const e3=this.player.currentTime;W(this.cuePoints)||this.cuePoints.forEach((i2,s2)=>{t3<i2&&i2<e3&&(this.manager.discardAdBreak(),this.cuePoints.splice(s2,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(e2.offsetWidth,e2.offsetHeight,google.ima.ViewMode.NORMAL)})}),e(this,"play",()=>{const{container:e2}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e2.offsetWidth,e2.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e3){this.onAdError(e3)}}).catch(()=>{})}),e(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,ke(this.player.media.play())}),e(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),e(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),e(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e2=>{this.on("loaded",e2),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),e(this,"trigger",(e2,...t3)=>{const i2=this.events[e2];j(i2)&&i2.forEach(e3=>{q(e3)&&e3.apply(this,t3)})}),e(this,"on",(e2,t3)=>(j(this.events[e2])||(this.events[e2]=[]),this.events[e2].push(t3),this)),e(this,"startSafetyTimer",(e2,t3)=>{this.player.debug.log(`Safety timer invoked from: ${t3}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e2)}),e(this,"clearSafetyTimer",e2=>{I(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e2}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t2,this.config=t2.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e2,t3)=>{this.on("loaded",e2),this.on("error",t3)}),this.load()}get enabled(){const{config:e2}=this;return this.player.isHTML5&&this.player.isVideo&&e2.enabled&&(!W(e2.publisherId)||U(e2.tagUrl))}get tagUrl(){const{config:e2}=this;return U(e2.tagUrl)?e2.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Ke({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e2.publisherId})}`}}const ft=e2=>{const t2=[];return e2.split(/\r\n\r\n|\n\n|\r\r/).forEach(e3=>{const i2={};e3.split(/\r\n|\n|\r/).forEach(e4=>{if($(i2.startTime)){if(!W(e4.trim())&&W(i2.text)){const t3=e4.trim().split("#xywh=");[i2.text]=t3,t3[1]&&([i2.x,i2.y,i2.w,i2.h]=t3[1].split(","))}}else{const t3=e4.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t3&&(i2.startTime=60*Number(t3[1]||0)*60+60*Number(t3[2])+Number(t3[3])+ +`0.${t3[4]}`,i2.endTime=60*Number(t3[6]||0)*60+60*Number(t3[7])+Number(t3[8])+ +`0.${t3[9]}`)}}),i2.text&&t2.push(i2)}),t2},yt=(e2,t2)=>{const i2={};return e2>t2.width/t2.height?(i2.width=t2.width,i2.height=1/e2*t2.width):(i2.height=t2.height,i2.width=e2*t2.height),i2};class bt{constructor(t2){e(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),e(this,"getThumbnails",()=>new Promise(e2=>{const{src:t3}=this.player.config.previewThumbnails;if(W(t3))throw new Error("Missing previewThumbnails.src config attribute");const i2=()=>{this.thumbnails.sort((e3,t4)=>e3.height-t4.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e2()};if(q(t3))t3(e3=>{this.thumbnails=e3,i2()});else{const e3=(_(t3)?[t3]:t3).map(e4=>this.getThumbnail(e4));Promise.all(e3).then(i2)}})),e(this,"getThumbnail",e2=>new Promise(t3=>{Re(e2).then(i2=>{const s2={frames:ft(i2),height:null,urlPrefix:""};s2.frames[0].text.startsWith("/")||s2.frames[0].text.startsWith("http://")||s2.frames[0].text.startsWith("https://")||(s2.urlPrefix=e2.substring(0,e2.lastIndexOf("/")+1));const n2=new Image;n2.onload=()=>{s2.height=n2.naturalHeight,s2.width=n2.naturalWidth,this.thumbnails.push(s2),t3()},n2.src=s2.urlPrefix+s2.frames[0].text})})),e(this,"startMove",e2=>{if(this.loaded&&F(e2)&&["touchmove","mousemove"].includes(e2.type)&&this.player.media.duration){if(e2.type==="touchmove")this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{const t3=this.player.elements.progress.getBoundingClientRect(),i2=100/t3.width*(e2.pageX-t3.left);this.seekTime=this.player.media.duration*(i2/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e2.pageX,this.elements.thumb.time.innerText=Ue(this.seekTime)}this.showImageAtCurrentTime()}}),e(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),e(this,"startScrubbing",e2=>{(I(e2.button)||e2.button===!1||e2.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),e(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):be.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),e(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),e(this,"render",()=>{this.elements.thumb.container=Z("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Z("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e2=Z("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Z("span",{},"00:00"),e2.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e2),H(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Z("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),e(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),e(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e2=this.thumbnails[0].frames.findIndex(e3=>this.seekTime>=e3.startTime&&this.seekTime<=e3.endTime),t3=e2>=0;let i2=0;this.mouseDown||this.toggleThumbContainer(t3),t3&&(this.thumbnails.forEach((t4,s2)=>{this.loadedImages.includes(t4.frames[e2].text)&&(i2=s2)}),e2!==this.showingThumb&&(this.showingThumb=e2,this.loadImage(i2)))}),e(this,"loadImage",(e2=0)=>{const t3=this.showingThumb,i2=this.thumbnails[e2],{urlPrefix:s2}=i2,n2=i2.frames[t3],a2=i2.frames[t3].text,l2=s2+a2;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a2)this.showImage(this.currentImageElement,n2,e2,t3,a2,!1),this.currentImageElement.dataset.index=t3,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i3=new Image;i3.src=l2,i3.dataset.index=t3,i3.dataset.filename=a2,this.showingThumbFilename=a2,this.player.debug.log(`Loading image: ${l2}`),i3.onload=()=>this.showImage(i3,n2,e2,t3,a2,!0),this.loadingImage=i3,this.removeOldImages(i3)}}),e(this,"showImage",(e2,t3,i2,s2,n2,a2=!0)=>{this.player.debug.log(`Showing thumb: ${n2}. num: ${s2}. qual: ${i2}. newimg: ${a2}`),this.setImageSizeAndOffset(e2,t3),a2&&(this.currentImageContainer.appendChild(e2),this.currentImageElement=e2,this.loadedImages.includes(n2)||this.loadedImages.push(n2)),this.preloadNearby(s2,!0).then(this.preloadNearby(s2,!1)).then(this.getHigherQuality(i2,e2,t3,n2))}),e(this,"removeOldImages",e2=>{Array.from(this.currentImageContainer.children).forEach(t3=>{if(t3.tagName.toLowerCase()!=="img")return;const i2=this.usingSprites?500:1e3;if(t3.dataset.index!==e2.dataset.index&&!t3.dataset.deleting){t3.dataset.deleting=!0;const{currentImageContainer:e3}=this;setTimeout(()=>{e3.removeChild(t3),this.player.debug.log(`Removing thumb: ${t3.dataset.filename}`)},i2)}})}),e(this,"preloadNearby",(e2,t3=!0)=>new Promise(i2=>{setTimeout(()=>{const s2=this.thumbnails[0].frames[e2].text;if(this.showingThumbFilename===s2){let n2;n2=t3?this.thumbnails[0].frames.slice(e2):this.thumbnails[0].frames.slice(0,e2).reverse();let a2=!1;n2.forEach(e3=>{const t4=e3.text;if(t4!==s2&&!this.loadedImages.includes(t4)){a2=!0,this.player.debug.log(`Preloading thumb filename: ${t4}`);const{urlPrefix:e4}=this.thumbnails[0],s3=e4+t4,n3=new Image;n3.src=s3,n3.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t4}`),this.loadedImages.includes(t4)||this.loadedImages.push(t4),i2()}}}),a2||i2()}},300)})),e(this,"getHigherQuality",(e2,t3,i2,s2)=>{if(e2<this.thumbnails.length-1){let n2=t3.naturalHeight;this.usingSprites&&(n2=i2.h),n2<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s2&&(this.player.debug.log(`Showing higher quality thumb for: ${s2}`),this.loadImage(e2+1))},300)}}),e(this,"toggleThumbContainer",(e2=!1,t3=!1)=>{const i2=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i2,e2),!e2&&t3&&(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"toggleScrubbingContainer",(e2=!1)=>{const t3=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t3,e2),e2||(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),e(this,"setThumbContainerSizeAndPos",()=>{if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){const e2=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width=`${e2}px`}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){const e2=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=`${e2}px`}}else{const e2=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height=`${this.thumbContainerHeight}px`,this.elements.thumb.imageContainer.style.width=`${e2}px`}this.setThumbContainerPos()}),e(this,"setThumbContainerPos",()=>{const e2=this.player.elements.progress.getBoundingClientRect(),t3=this.player.elements.container.getBoundingClientRect(),{container:i2}=this.elements.thumb,s2=t3.left-e2.left+10,n2=t3.right-e2.left-i2.clientWidth-10;let a2=this.mousePosX-e2.left-i2.clientWidth/2;a2<s2&&(a2=s2),a2>n2&&(a2=n2),i2.style.left=`${a2}px`}),e(this,"setScrubbingContainerSize",()=>{const{width:e2,height:t3}=yt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e2}px`,this.elements.scrubbing.container.style.height=`${t3}px`}),e(this,"setImageSizeAndOffset",(e2,t3)=>{if(!this.usingSprites)return;const i2=this.thumbContainerHeight/t3.h;e2.style.height=e2.naturalHeight*i2+"px",e2.style.width=e2.naturalWidth*i2+"px",e2.style.left=`-${t3.x*i2}px`,e2.style.top=`-${t3.y*i2}px`}),this.player=t2,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e2}=yt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e2}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e2){this.mouseDown?this.currentScrubbingImageElement=e2:this.currentThumbnailImageElement=e2}}const vt={insertElements(e2,t2){_(t2)?ee(e2,this.media,{src:t2}):j(t2)&&t2.forEach(t3=>{ee(e2,this.media,t3)})},change(e2){Q(e2,"sources.length")?(Le.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],te(this.media),this.media=null,H(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t2,type:i2}=e2,[{provider:s2=Ge.html5,src:n2}]=t2,a2=s2==="html5"?i2:"div",l2=s2==="html5"?{}:{src:n2};Object.assign(this,{provider:s2,type:i2,supported:me.check(i2,s2,this.config.playsinline),media:Z(a2,l2)}),this.elements.container.appendChild(this.media),O(e2.autoplay)&&(this.config.autoplay=e2.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),W(e2.poster)||(this.poster=e2.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),at.addStyleHook.call(this),this.isHTML5&&vt.insertElements.call(this,"source",t2),this.config.title=e2.title,pt.setup.call(this),this.isHTML5&&Object.keys(e2).includes("tracks")&&vt.insertElements.call(this,"track",e2.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&at.build.call(this),this.isHTML5&&this.media.load(),W(e2.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e2.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bt(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class wt{constructor(t2,i2){if(e(this,"play",()=>q(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>ke(this.media.play())),this.media.play()):null),e(this,"pause",()=>this.playing&&q(this.media.pause)?this.media.pause():null),e(this,"togglePlay",e2=>(O(e2)?e2:!this.playing)?this.play():this.pause()),e(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):q(this.media.stop)&&this.media.stop()}),e(this,"restart",()=>{this.currentTime=0}),e(this,"rewind",e2=>{this.currentTime-=$(e2)?e2:this.config.seekTime}),e(this,"forward",e2=>{this.currentTime+=$(e2)?e2:this.config.seekTime}),e(this,"increaseVolume",e2=>{const t3=this.media.muted?0:this.volume;this.volume=t3+($(e2)?e2:0)}),e(this,"decreaseVolume",e2=>{this.increaseVolume(-e2)}),e(this,"airplay",()=>{me.airplay&&this.media.webkitShowPlaybackTargetPicker()}),e(this,"toggleControls",e2=>{if(this.supported.ui&&!this.isAudio){const t3=oe(this.elements.container,this.config.classNames.hideControls),i3=e2===void 0?void 0:!e2,s3=le(this.elements.container,this.config.classNames.hideControls,i3);if(s3&&j(this.config.controls)&&this.config.controls.includes("settings")&&!W(this.config.settings)&&We.toggleMenu.call(this,!1),s3!==t3){const e3=s3?"controlshidden":"controlsshown";ve.call(this,this.media,e3)}return!s3}return!1}),e(this,"on",(e2,t3)=>{fe.call(this,this.elements.container,e2,t3)}),e(this,"once",(e2,t3)=>{be.call(this,this.elements.container,e2,t3)}),e(this,"off",(e2,t3)=>{ye(this.elements.container,e2,t3)}),e(this,"destroy",(e2,t3=!1)=>{if(!this.ready)return;const i3=()=>{document.body.style.overflow="",this.embed=null,t3?(Object.keys(this.elements).length&&(te(this.elements.buttons.play),te(this.elements.captions),te(this.elements.controls),te(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),q(e2)&&e2()):(we.call(this),Le.cancelRequests.call(this),se(this.elements.original,this.elements.container),ve.call(this,this.elements.original,"destroyed",!0),q(e2)&&e2.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(at.toggleNativeControls.call(this,!0),i3()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&q(this.embed.destroy)&&this.embed.destroy(),i3()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(i3),setTimeout(i3,200))}),e(this,"supports",e2=>me.mime.call(this,e2)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=me.touch,this.media=t2,_(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||D(this.media)||j(this.media))&&(this.media=this.media[0]),this.config=X({},Qe,wt.defaults,i2||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch{return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new it(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",me),I(this.media)||!H(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!me.check().api)return void this.debug.error("Setup failed: no support");const s2=this.media.cloneNode(!0);s2.autoplay=!1,this.elements.original=s2;const n2=this.media.tagName.toLowerCase();let a2=null,l2=null;switch(n2){case"div":if(a2=this.media.querySelector("iframe"),H(a2)){if(l2=ze(a2.getAttribute("src")),this.provider=function(e2){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e2)?Ge.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e2)?Ge.vimeo:null}(l2.toString()),this.elements.container=this.media,this.media=a2,this.elements.container.className="",l2.search.length){const e2=["1","true"];e2.includes(l2.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e2.includes(l2.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e2.includes(l2.searchParams.get("playsinline")),this.config.youtube.hl=l2.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(W(this.provider)||!Object.values(Ge).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=et;break;case"video":case"audio":this.type=n2,this.provider=Ge.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=me.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new lt(this),this.storage=new Fe(this),this.media.plyr=this,H(this.elements.container)||(this.elements.container=Z("div",{tabindex:0}),J(this.media,this.elements.container)),at.migrateStyles.call(this),at.addStyleHook.call(this),pt.setup.call(this),this.config.debug&&fe.call(this,this.elements.container,this.config.events.join(" "),e2=>{this.debug.log(`event: ${e2.type}`)}),this.fullscreen=new st(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&at.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new gt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>ke(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new bt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ge.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ge.youtube}get isVimeo(){return this.provider===Ge.vimeo}get isVideo(){return this.type===et}get isAudio(){return this.type===Ze}get playing(){return!!(this.ready&&!this.paused&&!this.ended)}get paused(){return!!this.media.paused}get stopped(){return!!(this.paused&&this.currentTime===0)}get ended(){return!!this.media.ended}set currentTime(e2){if(!this.duration)return;const t2=$(e2)&&e2>0;this.media.currentTime=t2?Math.min(e2,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e2}=this.media;return $(e2)?e2:e2&&e2.length&&this.duration>0?e2.end(0)/this.duration:0}get seeking(){return!!this.media.seeking}get duration(){const e2=parseFloat(this.config.duration),t2=(this.media||{}).duration,i2=$(t2)&&t2!==1/0?t2:0;return e2||i2}set volume(e2){let t2=e2;_(t2)&&(t2=Number(t2)),$(t2)||(t2=this.storage.get("volume")),$(t2)||({volume:t2}=this.config),t2>1&&(t2=1),t2<0&&(t2=0),this.config.volume=t2,this.media.volume=t2,!W(e2)&&this.muted&&t2>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e2){let t2=e2;O(t2)||(t2=this.storage.get("muted")),O(t2)||(t2=this.config.muted),this.config.muted=t2,this.media.muted=t2}get muted(){return!!this.media.muted}get hasAudio(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e2){let t2=null;$(e2)&&(t2=e2),$(t2)||(t2=this.storage.get("speed")),$(t2)||(t2=this.config.speed.selected);const{minimumSpeed:i2,maximumSpeed:s2}=this;t2=function(e3=0,t3=0,i3=255){return Math.min(Math.max(e3,t3),i3)}(t2,i2,s2),this.config.speed.selected=t2,setTimeout(()=>{this.media.playbackRate=t2},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e2){const t2=this.config.quality,i2=this.options.quality;if(!i2.length)return;let s2=[!W(e2)&&Number(e2),this.storage.get("quality"),t2.selected,t2.default].find($),n2=!0;if(!i2.includes(s2)){const e3=Ae(i2,s2);this.debug.warn(`Unsupported quality option: ${s2}, using ${e3} instead`),s2=e3,n2=!1}t2.selected=s2,this.media.quality=s2,n2&&this.storage.set({quality:s2})}get quality(){return this.media.quality}set loop(e2){const t2=O(e2)?e2:this.config.loop.active;this.config.loop.active=t2,this.media.loop=t2}get loop(){return!!this.media.loop}set source(e2){vt.change.call(this,e2)}get source(){return this.media.currentSrc}get download(){const{download:e2}=this.config.urls;return U(e2)?e2:this.source}set download(e2){U(e2)&&(this.config.urls.download=e2,We.setDownloadUrl.call(this))}set poster(e2){this.isVideo?at.setPoster.call(this,e2,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e2=xe(Me.call(this));return j(e2)?e2.join(":"):e2}set ratio(e2){this.isVideo?_(e2)&&Pe(e2)?(this.config.ratio=xe(e2),Ne.call(this)):this.debug.error(`Invalid aspect ratio specified (${e2})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e2){const t2=O(e2)?e2:this.config.autoplay;this.config.autoplay=t2}get autoplay(){return!!this.config.autoplay}toggleCaptions(e2){Ye.toggle.call(this,e2,!1)}set currentTrack(e2){Ye.set.call(this,e2,!1)}get currentTrack(){const{toggled:e2,currentTrack:t2}=this.captions;return e2?t2:-1}set language(e2){Ye.setLanguage.call(this,e2,!1)}get language(){return(Ye.getCurrentTrack.call(this)||{}).language}set pip(e2){if(!me.pip)return;const t2=O(e2)?e2:!this.pip;q(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t2?Xe:Je),q(this.media.requestPictureInPicture)&&(!this.pip&&t2?this.media.requestPictureInPicture():this.pip&&!t2&&document.exitPictureInPicture())}get pip(){return me.pip?W(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Xe:null}static supported(e2,t2,i2){return me.check(e2,t2,i2)}static loadSprite(e2,t2){return Ve(e2,t2)}static setup(e2,t2={}){let i2=null;return _(e2)?i2=Array.from(document.querySelectorAll(e2)):D(e2)?i2=Array.from(e2):j(e2)&&(i2=e2.filter(H)),W(i2)?null:i2.map(e3=>new wt(e3,t2))}}var Tt;return wt.defaults=(Tt=Qe,JSON.parse(JSON.stringify(Tt))),wt})}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==void 0)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}(function(){__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter}})(),function(){__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})}}(),function(){__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}();var __webpack_exports__={};(function(){"use strict";var plyr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9792),plyr__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(plyr__WEBPACK_IMPORTED_MODULE_0__);window.spratlyLibs=window.spratlyLibs||{},window.spratlyLibs.Plyr=plyr__WEBPACK_IMPORTED_MODULE_0___default()})()})();
//# sourceMappingURL=/s/files/1/0274/4044/7587/t/719/assets/plyr.js.map?v=68356425767129871685566284
